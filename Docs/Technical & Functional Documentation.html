<!DOCTYPE html>
<html>

<head>
    <title>Technical &amp; Functional Documentation</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet"
        href="file:///c:\Users\veerk\.antigravity\extensions\shd101wyy.markdown-preview-enhanced-0.8.20-universal\crossnote\dependencies\katex\katex.min.css">


    <script type="text/javascript"
        src="file:///c:\Users\veerk\.antigravity\extensions\shd101wyy.markdown-preview-enhanced-0.8.20-universal\crossnote\dependencies\mermaid\mermaid.min.js"
        charset="UTF-8"></script>


    <style>
        code[class*=language-],
        pre[class*=language-] {
            color: #333;
            background: 0 0;
            font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
            text-align: left;
            white-space: pre;
            word-spacing: normal;
            word-break: normal;
            word-wrap: normal;
            line-height: 1.4;
            -moz-tab-size: 8;
            -o-tab-size: 8;
            tab-size: 8;
            -webkit-hyphens: none;
            -moz-hyphens: none;
            -ms-hyphens: none;
            hyphens: none
        }

        pre[class*=language-] {
            padding: .8em;
            overflow: auto;
            border-radius: 3px;
            background: #f5f5f5
        }

        :not(pre)>code[class*=language-] {
            padding: .1em;
            border-radius: .3em;
            white-space: normal;
            background: #f5f5f5
        }

        .token.blockquote,
        .token.comment {
            color: #969896
        }

        .token.cdata {
            color: #183691
        }

        .token.doctype,
        .token.macro.property,
        .token.punctuation,
        .token.variable {
            color: #333
        }

        .token.builtin,
        .token.important,
        .token.keyword,
        .token.operator,
        .token.rule {
            color: #a71d5d
        }

        .token.attr-value,
        .token.regex,
        .token.string,
        .token.url {
            color: #183691
        }

        .token.atrule,
        .token.boolean,
        .token.code,
        .token.command,
        .token.constant,
        .token.entity,
        .token.number,
        .token.property,
        .token.symbol {
            color: #0086b3
        }

        .token.prolog,
        .token.selector,
        .token.tag {
            color: #63a35c
        }

        .token.attr-name,
        .token.class,
        .token.class-name,
        .token.function,
        .token.id,
        .token.namespace,
        .token.pseudo-class,
        .token.pseudo-element,
        .token.url-reference .token.variable {
            color: #795da3
        }

        .token.entity {
            cursor: help
        }

        .token.title,
        .token.title .token.punctuation {
            font-weight: 700;
            color: #1d3e81
        }

        .token.list {
            color: #ed6a43
        }

        .token.inserted {
            background-color: #eaffea;
            color: #55a532
        }

        .token.deleted {
            background-color: #ffecec;
            color: #bd2c00
        }

        .token.bold {
            font-weight: 700
        }

        .token.italic {
            font-style: italic
        }

        .language-json .token.property {
            color: #183691
        }

        .language-markup .token.tag .token.punctuation {
            color: #333
        }

        .language-css .token.function,
        code.language-css {
            color: #0086b3
        }

        .language-yaml .token.atrule {
            color: #63a35c
        }

        code.language-yaml {
            color: #183691
        }

        .language-ruby .token.function {
            color: #333
        }

        .language-markdown .token.url {
            color: #795da3
        }

        .language-makefile .token.symbol {
            color: #795da3
        }

        .language-makefile .token.variable {
            color: #183691
        }

        .language-makefile .token.builtin {
            color: #0086b3
        }

        .language-bash .token.keyword {
            color: #0086b3
        }

        pre[data-line] {
            position: relative;
            padding: 1em 0 1em 3em
        }

        pre[data-line] .line-highlight-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            background-color: transparent;
            display: block;
            width: 100%
        }

        pre[data-line] .line-highlight {
            position: absolute;
            left: 0;
            right: 0;
            padding: inherit 0;
            margin-top: 1em;
            background: hsla(24, 20%, 50%, .08);
            background: linear-gradient(to right, hsla(24, 20%, 50%, .1) 70%, hsla(24, 20%, 50%, 0));
            pointer-events: none;
            line-height: inherit;
            white-space: pre
        }

        pre[data-line] .line-highlight:before,
        pre[data-line] .line-highlight[data-end]:after {
            content: attr(data-start);
            position: absolute;
            top: .4em;
            left: .6em;
            min-width: 1em;
            padding: 0 .5em;
            background-color: hsla(24, 20%, 50%, .4);
            color: #f4f1ef;
            font: bold 65%/1.5 sans-serif;
            text-align: center;
            vertical-align: .3em;
            border-radius: 999px;
            text-shadow: none;
            box-shadow: 0 1px #fff
        }

        pre[data-line] .line-highlight[data-end]:after {
            content: attr(data-end);
            top: auto;
            bottom: .4em
        }

        html body {
            font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
            overflow: initial;
            box-sizing: border-box;
            word-wrap: break-word
        }

        html body>:first-child {
            margin-top: 0
        }

        html body h1,
        html body h2,
        html body h3,
        html body h4,
        html body h5,
        html body h6 {
            line-height: 1.2;
            margin-top: 1em;
            margin-bottom: 16px;
            color: #000
        }

        html body h1 {
            font-size: 2.25em;
            font-weight: 300;
            padding-bottom: .3em
        }

        html body h2 {
            font-size: 1.75em;
            font-weight: 400;
            padding-bottom: .3em
        }

        html body h3 {
            font-size: 1.5em;
            font-weight: 500
        }

        html body h4 {
            font-size: 1.25em;
            font-weight: 600
        }

        html body h5 {
            font-size: 1.1em;
            font-weight: 600
        }

        html body h6 {
            font-size: 1em;
            font-weight: 600
        }

        html body h1,
        html body h2,
        html body h3,
        html body h4,
        html body h5 {
            font-weight: 600
        }

        html body h5 {
            font-size: 1em
        }

        html body h6 {
            color: #5c5c5c
        }

        html body strong {
            color: #000
        }

        html body del {
            color: #5c5c5c
        }

        html body a:not([href]) {
            color: inherit;
            text-decoration: none
        }

        html body a {
            color: #08c;
            text-decoration: none
        }

        html body a:hover {
            color: #00a3f5;
            text-decoration: none
        }

        html body img {
            max-width: 100%
        }

        html body>p {
            margin-top: 0;
            margin-bottom: 16px;
            word-wrap: break-word
        }

        html body>ol,
        html body>ul {
            margin-bottom: 16px
        }

        html body ol,
        html body ul {
            padding-left: 2em
        }

        html body ol.no-list,
        html body ul.no-list {
            padding: 0;
            list-style-type: none
        }

        html body ol ol,
        html body ol ul,
        html body ul ol,
        html body ul ul {
            margin-top: 0;
            margin-bottom: 0
        }

        html body li {
            margin-bottom: 0
        }

        html body li.task-list-item {
            list-style: none
        }

        html body li>p {
            margin-top: 0;
            margin-bottom: 0
        }

        html body .task-list-item-checkbox {
            margin: 0 .2em .25em -1.8em;
            vertical-align: middle
        }

        html body .task-list-item-checkbox:hover {
            cursor: pointer
        }

        html body blockquote {
            margin: 16px 0;
            font-size: inherit;
            padding: 0 15px;
            color: #5c5c5c;
            background-color: #f0f0f0;
            border-left: 4px solid #d6d6d6
        }

        html body blockquote>:first-child {
            margin-top: 0
        }

        html body blockquote>:last-child {
            margin-bottom: 0
        }

        html body hr {
            height: 4px;
            margin: 32px 0;
            background-color: #d6d6d6;
            border: 0 none
        }

        html body table {
            margin: 10px 0 15px 0;
            border-collapse: collapse;
            border-spacing: 0;
            display: block;
            width: 100%;
            overflow: auto;
            word-break: normal;
            word-break: keep-all
        }

        html body table th {
            font-weight: 700;
            color: #000
        }

        html body table td,
        html body table th {
            border: 1px solid #d6d6d6;
            padding: 6px 13px
        }

        html body dl {
            padding: 0
        }

        html body dl dt {
            padding: 0;
            margin-top: 16px;
            font-size: 1em;
            font-style: italic;
            font-weight: 700
        }

        html body dl dd {
            padding: 0 16px;
            margin-bottom: 16px
        }

        html body code {
            font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;
            font-size: .85em;
            color: #000;
            background-color: #f0f0f0;
            border-radius: 3px;
            padding: .2em 0
        }

        html body code::after,
        html body code::before {
            letter-spacing: -.2em;
            content: '\00a0'
        }

        html body pre>code {
            padding: 0;
            margin: 0;
            word-break: normal;
            white-space: pre;
            background: 0 0;
            border: 0
        }

        html body .highlight {
            margin-bottom: 16px
        }

        html body .highlight pre,
        html body pre {
            padding: 1em;
            overflow: auto;
            line-height: 1.45;
            border: #d6d6d6;
            border-radius: 3px
        }

        html body .highlight pre {
            margin-bottom: 0;
            word-break: normal
        }

        html body pre code,
        html body pre tt {
            display: inline;
            max-width: initial;
            padding: 0;
            margin: 0;
            overflow: initial;
            line-height: inherit;
            word-wrap: normal;
            background-color: transparent;
            border: 0
        }

        html body pre code:after,
        html body pre code:before,
        html body pre tt:after,
        html body pre tt:before {
            content: normal
        }

        html body blockquote,
        html body dl,
        html body ol,
        html body p,
        html body pre,
        html body ul {
            margin-top: 0;
            margin-bottom: 16px
        }

        html body kbd {
            color: #000;
            border: 1px solid #d6d6d6;
            border-bottom: 2px solid #c7c7c7;
            padding: 2px 4px;
            background-color: #f0f0f0;
            border-radius: 3px
        }

        @media print {
            html body {
                background-color: #fff
            }

            html body h1,
            html body h2,
            html body h3,
            html body h4,
            html body h5,
            html body h6 {
                color: #000;
                page-break-after: avoid
            }

            html body blockquote {
                color: #5c5c5c
            }

            html body pre {
                page-break-inside: avoid
            }

            html body table {
                display: table
            }

            html body img {
                display: block;
                max-width: 100%;
                max-height: 100%
            }

            html body code,
            html body pre {
                word-wrap: break-word;
                white-space: pre
            }
        }

        .markdown-preview {
            width: 100%;
            height: 100%;
            box-sizing: border-box
        }

        .markdown-preview ul {
            list-style: disc
        }

        .markdown-preview ul ul {
            list-style: circle
        }

        .markdown-preview ul ul ul {
            list-style: square
        }

        .markdown-preview ol {
            list-style: decimal
        }

        .markdown-preview ol ol,
        .markdown-preview ul ol {
            list-style-type: lower-roman
        }

        .markdown-preview ol ol ol,
        .markdown-preview ol ul ol,
        .markdown-preview ul ol ol,
        .markdown-preview ul ul ol {
            list-style-type: lower-alpha
        }

        .markdown-preview .newpage,
        .markdown-preview .pagebreak {
            page-break-before: always
        }

        .markdown-preview pre.line-numbers {
            position: relative;
            padding-left: 3.8em;
            counter-reset: linenumber
        }

        .markdown-preview pre.line-numbers>code {
            position: relative
        }

        .markdown-preview pre.line-numbers .line-numbers-rows {
            position: absolute;
            pointer-events: none;
            top: 1em;
            font-size: 100%;
            left: 0;
            width: 3em;
            letter-spacing: -1px;
            border-right: 1px solid #999;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        .markdown-preview pre.line-numbers .line-numbers-rows>span {
            pointer-events: none;
            display: block;
            counter-increment: linenumber
        }

        .markdown-preview pre.line-numbers .line-numbers-rows>span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: .8em;
            text-align: right
        }

        .markdown-preview .mathjax-exps .MathJax_Display {
            text-align: center !important
        }

        .markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group {
            display: none
        }

        .markdown-preview:not([data-for=preview]) .code-chunk .status {
            display: none
        }

        .markdown-preview:not([data-for=preview]) .code-chunk .output-div {
            margin-bottom: 16px
        }

        .markdown-preview .md-toc {
            padding: 0
        }

        .markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link {
            display: inline;
            padding: .25rem 0
        }

        .markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,
        .markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p {
            display: inline
        }

        .markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link {
            font-weight: 800
        }

        .scrollbar-style::-webkit-scrollbar {
            width: 8px
        }

        .scrollbar-style::-webkit-scrollbar-track {
            border-radius: 10px;
            background-color: transparent
        }

        .scrollbar-style::-webkit-scrollbar-thumb {
            border-radius: 5px;
            background-color: rgba(150, 150, 150, .66);
            border: 4px solid rgba(150, 150, 150, .66);
            background-clip: content-box
        }

        html body[for=html-export]:not([data-presentation-mode]) {
            position: relative;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            margin: 0;
            padding: 0;
            overflow: auto
        }

        html body[for=html-export]:not([data-presentation-mode]) .markdown-preview {
            position: relative;
            top: 0;
            min-height: 100vh
        }

        @media screen and (min-width:914px) {
            html body[for=html-export]:not([data-presentation-mode]) .markdown-preview {
                padding: 2em calc(50% - 457px + 2em)
            }
        }

        @media screen and (max-width:914px) {
            html body[for=html-export]:not([data-presentation-mode]) .markdown-preview {
                padding: 2em
            }
        }

        @media screen and (max-width:450px) {
            html body[for=html-export]:not([data-presentation-mode]) .markdown-preview {
                font-size: 14px !important;
                padding: 1em
            }
        }

        @media print {
            html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn {
                display: none
            }
        }

        html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn {
            position: fixed;
            bottom: 8px;
            left: 8px;
            font-size: 28px;
            cursor: pointer;
            color: inherit;
            z-index: 99;
            width: 32px;
            text-align: center;
            opacity: .4
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn {
            opacity: 1
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc {
            position: fixed;
            top: 0;
            left: 0;
            width: 300px;
            height: 100%;
            padding: 32px 0 48px 0;
            font-size: 14px;
            box-shadow: 0 0 4px rgba(150, 150, 150, .33);
            box-sizing: border-box;
            overflow: auto;
            background-color: inherit
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar {
            width: 8px
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track {
            border-radius: 10px;
            background-color: transparent
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb {
            border-radius: 5px;
            background-color: rgba(150, 150, 150, .66);
            border: 4px solid rgba(150, 150, 150, .66);
            background-clip: content-box
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a {
            text-decoration: none
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc {
            padding: 0 16px
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link {
            display: inline;
            padding: .25rem 0
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,
        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p {
            display: inline
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link {
            font-weight: 800
        }

        html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview {
            left: 300px;
            width: calc(100% - 300px);
            padding: 2em calc(50% - 457px - 300px / 2);
            margin: 0;
            box-sizing: border-box
        }

        @media screen and (max-width:1274px) {
            html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview {
                padding: 2em
            }
        }

        @media screen and (max-width:450px) {
            html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview {
                width: 100%
            }
        }

        html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview {
            left: 50%;
            transform: translateX(-50%)
        }

        html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc {
            display: none
        }

        /* Please visit the URL below for more information: */
        /*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
    </style>
    <!-- The content below will be included at the end of the <head> element. -->
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function () {
            // your code here
        });
    </script>
</head>

<body for="html-export">


    <div class="crossnote markdown-preview  ">

        <p># GPTK Library Management System (LMS)</p>
        <h2 id="technical--functional-documentation">Technical &amp; Functional Documentation </h2>
        <p><strong>Version:</strong> 2.0 (Live Codebase Analysis)<br>
            <strong>Last Updated:</strong> 30/01/2026<br>
            <strong>Status:</strong> In Development / Testing
        </p>
        <hr>
        <h2 id="1-introduction">1. Introduction </h2>
        <h3 id="11-purpose">1.1 Purpose </h3>
        <p>The purpose of this Software Requirements Specification (SRS) is to describe the functional and
            non-functional requirements for the <strong>GPTK Library Management System (LMS)</strong>. This document
            serves as a guide for developers, quality assurance testers, and project stakeholders to ensure that the
            final product meets the specified needs. It covers the system's intended behavior, interface designs,
            constraints, and data structures.</p>
        <h3 id="12-scope">1.2 Scope </h3>
        <p>The GPTK LMS is a desktop-based application developed using Electron.js, React, and Node.js. It is designed
            to modernize and automate the operations of the GPTK Library. The system facilitates:</p>
        <ul>
            <li><strong>Catalog Management</strong>: Adding, editing, and tracking books.</li>
            <li><strong>Circulation Control</strong>: Managing issues, returns, and renewals.</li>
            <li><strong>Student Database</strong>: Maintaining records of library members.</li>
            <li><strong>Financial Oversight</strong>: Tracking fines and generating receipts.</li>
            <li><strong>Reporting</strong>: Providing real-time analytics on inventory and utilization.<br>
                The system operates primarily offline (Local-First) but includes cloud synchronization capabilities for
                data backup.</li>
        </ul>
        <h3 id="13-definitions-acronyms-and-abbreviations">1.3 Definitions, Acronyms, and Abbreviations </h3>
        <ul>
            <li><strong>LMS</strong>: Library Management System.</li>
            <li><strong>SRS</strong>: Software Requirements Specification.</li>
            <li><strong>RBAC</strong>: Role-Based Access Control (Admin vs. Staff).</li>
            <li><strong>ISBN</strong>: International Standard Book Number.</li>
            <li><strong>Electron</strong>: A framework for building native applications with web technologies.</li>
            <li><strong>SPA</strong>: Single Page Application.</li>
            <li><strong>HOD</strong>: Head of Department.</li>
        </ul>
        <h3 id="14-references">1.4 References </h3>
        <ul>
            <li>GPTK LMS User Manual.</li>
            <li>GPTK LMS Test Cases Document.</li>
            <li>IEEE Std 830-1998: Recommended Practice for Software Requirements Specifications.</li>
        </ul>
        <hr>
        <h2 id="2-overall-description">2. Overall Description </h2>
        <h3 id="21-product-perspective">2.1 Product Perspective </h3>
        <p>Electronic management of library resources is essential for efficiency. The GPTK LMS replaces manual ledger
            systems with a streamlined digital interface. It is a self-contained product that integrates with:</p>
        <ul>
            <li><strong>Local File System</strong>: For storing the SQLite database and logs.</li>
            <li><strong>MongoDB Atlas (Optional)</strong>: For cloud backups.</li>
            <li><strong>SMTP Server</strong>: For sending email notifications.</li>
        </ul>
        <h3 id="22-product-functions">2.2 Product Functions </h3>
        <p>The major functions of the system include:</p>
        <ol>
            <li><strong>Authentication</strong>: Secure login with RBAC.</li>
            <li><strong>Inventory Management</strong>: Full lifecycle management of books (Acquisition to Disposal).
            </li>
            <li><strong>Circulation</strong>: Barcode-enabled Issue, Return, and Renewal processes.</li>
            <li><strong>Fine Management</strong>: Automatic calculation of overdue/damage fines.</li>
            <li><strong>User Management</strong>: Administration of Staff and Student profiles.</li>
            <li><strong>Analytics</strong>: Dashboard metrics and downloadable PDF reports.</li>
        </ol>
        <h3 id="23-user-characteristics">2.3 User Characteristics </h3>
        <ul>
            <li><strong>Administrator (Root/Admin)</strong>: Technical or managerial staff responsible for system
                configuration, policy setting, and staff oversight.</li>
            <li><strong>Library Staff</strong>: Operational staff responsible for daily transactions (issues/returns).
                Expected to have basic computer literacy.</li>
            <li><strong>Student</strong>: Indirect users who receive value via emails and efficient service but do not
                operate the software interface.</li>
        </ul>
        <h3 id="24-constraints">2.4 Constraints </h3>
        <ul>
            <li><strong>OS Compatibility</strong>: Targeted primarily for Windows 10/11 environments.</li>
            <li><strong>Offline First</strong>: Must function fully without an internet connection (except for
                emails/cloud sync).</li>
            <li><strong>Hardware</strong>: Requires a minimum of 4GB RAM for smooth Electron performance and a standard
                barcode scanner.</li>
            <li><strong>Regulatory &amp; Standards</strong>:
                <ul>
                    <li><strong>Data Privacy</strong>: Student personal data (Phone/Email) must be protected and not
                        exported without authorization.</li>
                    <li><strong>Auditability</strong>: Financial transactions (Fines) cannot be deleted, only 'Waived'
                        with remarks, to maintain fiscal integrity.</li>
                </ul>
            </li>
            <li><strong>Technical Constraints</strong>:
                <ul>
                    <li><strong>Single Instance</strong>: Only one instance of the application should run at a time to
                        prevent SQLite database locks.</li>
                    <li><strong>Port Availability</strong>: Backend requires a free port (default 17221) to function;
                        auto-negotiation or manual override is provided.</li>
                </ul>
            </li>
        </ul>
        <h3 id="25-assumptions-and-dependencies">2.5 Assumptions and Dependencies </h3>
        <ul>
            <li>It is assumed that the college assigns unique Register Numbers to all students.</li>
            <li>The library has a barcode scanner available for efficient circulation.</li>
            <li>An active internet connection is required only for external API calls (e.g., retrieving book covers,
                sending emails).</li>
        </ul>
        <h3 id="26-external-interface-requirements">2.6 External Interface Requirements </h3>
        <h4 id="261-user-interfaces">2.6.1 User Interfaces </h4>
        <ul>
            <li><strong>GUI Framework</strong>: The interface is built using <strong>React.js</strong> with a custom
                Design System (CSS Variables for themes).</li>
            <li><strong>Style Guide</strong>: Adheres to a "Clean &amp; Minimalist" aesthetic with dark/light mode
                support.</li>
            <li><strong>Responsiveness</strong>: The layout is optimized for Desktop (1366x768 and above) but is fluid
                enough for 1280x720 screens.</li>
            <li><strong>Standard Elements</strong>: Consistent use of Modals for forms, Toasts for notifications, and
                Data Tables for lists.</li>
        </ul>
        <h4 id="262-hardware-interfaces">2.6.2 Hardware Interfaces </h4>
        <ul>
            <li><strong>Barcode Scanners</strong>: The system supports standard USB HID Barcode Scanners. Scanned input
                is treated as keyboard keystrokes ending with <code>Enter</code>.</li>
            <li><strong>Printers</strong>:
                <ul>
                    <li><strong>Thermal Receipt Printers</strong>: 58mm/80mm ESC/POS command compatibility for fine
                        receipts.</li>
                    <li><strong>Standard Laser/Inkjet</strong>: A4 PDF generation for reports and ID cards.</li>
                </ul>
            </li>
        </ul>
        <h4 id="263-software-interfaces">2.6.3 Software Interfaces </h4>
        <ul>
            <li><strong>Operating System</strong>: Relies on Windows API for file system access (<code>fs</code> module)
                and window management.</li>
            <li><strong>Database Engine</strong>: Direct interface with <strong>SQLite3</strong> engine via
                <code>sqlite3</code> node module.
            </li>
            <li><strong>Email Clients</strong>: Interfaces with SMTP servers (Gmail/SendGrid/Outlook) via standard TCP
                ports (587/465).</li>
        </ul>
        <h4 id="264-communications-interfaces">2.6.4 Communications Interfaces </h4>
        <ul>
            <li><strong>Local Loopback</strong>: Frontend communicates with Backend via
                <code>http://localhost:&lt;port&gt;</code> and <code>ws://localhost:&lt;port&gt;</code>.
            </li>
            <li><strong>Cloud Sync (HTTPS)</strong>: Uses encrypted HTTPS (TLS 1.2+) to communicate with MongoDB Atlas
                APIs.</li>
            <li><strong>Book Metadata APIs</strong>: Connects to Google Books API / Open Library API (JSON over HTTP) to
                fetch book details by ISBN.</li>
        </ul>
        <h3 id="27-system-use-case-diagram">2.7 System Use Case Diagram </h3>
        <p>This diagram visualizes the primary interactions between the three key Actors (Admin, Staff, Student) and the
            System's major Use Cases.</p>
        <div class="mermaid">graph TD
            %% Actors
            Admin((Super Admin))
            Staff((Librarian))

            %% Boundary
            subgraph "GPTK Library Management System"
            %% Common
            UC_Login[Login / Auth]
            UC_Search[Search Catalog]

            %% Circulation
            UC_Issue[Issue Book]
            UC_Return[Return Book]
            UC_Fine[Collect Fines]

            %% Management
            UC_MgmtBook[Manage Books]
            UC_MgmtStud[Manage Students]
            UC_Report[Generate Reports]

            %% Admin Only
            UC_Config[System Settings]
            UC_Staff[Manage Staff]
            UC_Audit[View Audit Logs]
            end

            %% Relationships
            %% Admin
            Admin --&gt; UC_Login
            Admin --&gt; UC_Search
            Admin --&gt; UC_MgmtBook
            Admin --&gt; UC_MgmtStud
            Admin --&gt; UC_Config
            Admin --&gt; UC_Staff
            Admin --&gt; UC_Report
            Admin --&gt; UC_Audit

            %% Staff
            Staff --&gt; UC_Login
            Staff --&gt; UC_Search
            Staff --&gt; UC_Issue
            Staff --&gt; UC_Return
            Staff --&gt; UC_Fine
            Staff --&gt; UC_MgmtBook
            Staff --&gt; UC_MgmtStud
            Staff --&gt; UC_Report


        </div>
        <hr>
        <h3 id="28-system-context-diagram">2.8 System Context Diagram </h3>
        <p>This Level 0 Data Flow Diagram (DFD) illustrates the boundaries of the GPTK LMS and its interactions with
            external entities.</p>
        <div class="mermaid">graph LR
            %% Central System
            System(GPTK Library Management System)

            %% External Entities (Users)
            Admin[[Administrator]]
            Staff[[Library Staff]]
            Student[[Student]]

            %% External Systems (Software/Hardware)
            Google[Google Books / Open Library API]
            Cloud[MongoDB Atlas Cloud]
            SMTP[SMTP Email Server]
            Hardware[Scanners &amp; Printers]

            %% Data Flows (Inbound)
            Admin --&gt;|Configuration &amp; Policies| System
            Staff --&gt;|Issue/Return Commands| System
            Student --&gt;|Search Queries| System
            Hardware --&gt;|Barcode Input| System
            Google --&gt;|Book Metadata| System

            %% Data Flows (Outbound)
            System --&gt;|Reports &amp; Logs| Admin
            System --&gt;|Transaction Status| Staff
            System --&gt;|Book Availability| Student
            System --&gt;|Print Commands| Hardware
            System --&gt;|Email Notifications| SMTP
            System --&gt;|Encrypted Backups| Cloud
        </div>
        <hr>
        <h2 id="3-functional-requirements">3. Functional Requirements </h2>
        <p>This section details the specific functional requirements organized by module.</p>
        <h3 id="30-requirement-summary-table">3.0 Requirement Summary Table </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Req ID</th>
                    <th style="text-align:left">Feature</th>
                    <th style="text-align:left">Priority</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>FR-001</strong></td>
                    <td style="text-align:left"><strong>Authentication</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">System must support RBAC (Admins/Staff) with secure Login/Logout.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-002</strong></td>
                    <td style="text-align:left"><strong>Dashboard</strong></td>
                    <td style="text-align:left">Medium</td>
                    <td style="text-align:left">Display real-time KPI cards and connection status.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-003</strong></td>
                    <td style="text-align:left"><strong>Book Management</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">CRUD operations for Books, Copy Management, and Bulk Import.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-004</strong></td>
                    <td style="text-align:left"><strong>Student Management</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Register, Edit, Block, and Promote students.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-005</strong></td>
                    <td style="text-align:left"><strong>Circulation (Issue)</strong></td>
                    <td style="text-align:left">Critical</td>
                    <td style="text-align:left">Issue books to valid students after liability checks.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-006</strong></td>
                    <td style="text-align:left"><strong>Circulation (Return)</strong></td>
                    <td style="text-align:left">Critical</td>
                    <td style="text-align:left">Process returns, calculate overdue fines, and handle damaged books.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-007</strong></td>
                    <td style="text-align:left"><strong>Fines &amp; Payments</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Track student liabilities and generate fee receipts.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-008</strong></td>
                    <td style="text-align:left"><strong>Reports</strong></td>
                    <td style="text-align:left">Medium</td>
                    <td style="text-align:left">Generate daily/monthly Transaction and Inventory reports.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-009</strong></td>
                    <td style="text-align:left"><strong>Profile Management</strong></td>
                    <td style="text-align:left">Low</td>
                    <td style="text-align:left">Allow staff to change their own passwords.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-010</strong></td>
                    <td style="text-align:left"><strong>System Settings</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Configure Fine Rates, Backup rules, and Hardware (Printers/Scanners).
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-011</strong></td>
                    <td style="text-align:left"><strong>Backup &amp; Sync</strong></td>
                    <td style="text-align:left">Critical</td>
                    <td style="text-align:left">Automated local backups and optional Cloud Sync (MongoDB).</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>FR-012</strong></td>
                    <td style="text-align:left"><strong>Audit Logging</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Log all critical data changes for security auditing.</td>
                </tr>
            </tbody>
        </table>
        <h3 id="31-navigation--layout">3.1. Navigation &amp; Layout </h3>
        <p>The application uses a persistent <code>MainLayout</code> wrapper for all dashboard routes.</p>
        <ul>
            <li><strong>Sidebar</strong>:
                <ul>
                    <li><strong>Context-Aware</strong>: Highlights active route.</li>
                    <li><strong>RBAC Filtering</strong>: Hides menu items based on user permissions (e.g., 'Settings'
                        hidden for non-Admins).</li>
                    <li><strong>Collapsible</strong>: Toggles between text+icon and icon-only modes for space
                        efficiency.</li>
                </ul>
            </li>
            <li><strong>Header</strong>:
                <ul>
                    <li><strong>Personalization</strong>: Font Size, Language, and Theme toggles.</li>
                    <li><strong>User Profile</strong>: Displays current user name/role.</li>
                    <li><strong>Logout</strong>: Clears local session and redirects to Login.</li>
                </ul>
            </li>
            <li><strong>Footer</strong>:
                <ul>
                    <li>Displays copyright year dynamic and version info.</li>
                </ul>
            </li>
        </ul>
        <h3 id="32-public-routes">3.2. Public Routes </h3>
        <ul>
            <li><strong>Landing Page (<code>/</code>)</strong>: Gateway page.
                <ul>
                    <li><strong>Features</strong>:
                        <ul>
                            <li><strong>Dual-Language Support</strong>: Toggle between English and Kannada.</li>
                            <li><strong>Appearance Controls</strong>: Font Scalling (85-130%), Theme Toggle
                                (Dark/Light).</li>
                            <li><strong>Restricted Access</strong>: Login is restricted to Staff/Admins only.</li>
                            <li><strong>Accessibility</strong>: High Contrast mode warning system.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Login (<code>/login</code>)</strong>: Unified login for Staff and Admins.
                <ul>
                    <li><strong>Features</strong>:
                        <ul>
                            <li><strong>Unified Access</strong>: Accepts both Staff and Admin email credentials.</li>
                            <li><strong>Visual Feedback</strong>: "Shake" animation on invalid credentials.</li>
                            <li><strong>Input Validation</strong>: Highlights specific fields (Email vs Password) based
                                on error codes (e.g., <code>ERR_USER_NOT_FOUND</code>).</li>
                            <li><strong>Session Management</strong>: Stores JWT in <code>localStorage</code>
                                ('auth_token') and user details ('user_info').</li>
                            <li><strong>UI Controls</strong>: Includes Language, Font, and Theme toggles similar to
                                Landing Page.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Forgot Password (<code>/forgot-password</code>)</strong>: OTP-based recovery.
                <ul>
                    <li><strong>Workflow</strong>:
                        <ol>
                            <li><strong>Identity Verification</strong>: User enters email -&gt; System sends 6-digit OTP
                                (via configured Email Service).</li>
                            <li><strong>OTP Validation</strong>: User enters OTP -&gt; System verifies against DB.</li>
                            <li><strong>Secure Reset</strong>: User sets new password -&gt; System updates hash and
                                revokes temporary OTP.</li>
                        </ol>
                    </li>
                    <li><strong>Security</strong>:
                        <ul>
                            <li><strong>Step-Enforcement</strong>: Users cannot jump to Step 3 without passing Step 2.
                            </li>
                            <li><strong>Error Handling</strong>: Specific alerts for <code>ERR_EMAIL_DISABLED</code> and
                                <code>ERR_AUTH_OTP_INV</code>.
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Print Report (<code>/print/report</code>)</strong>: Dedicated route for printing documents
                without UI chrome.</li>
        </ul>
        <h3 id="33-dashboard-modules-dashboard">3.3. Dashboard Modules (<code>/dashboard/*</code>) </h3>
        <h4 id="dashboard-home-dashboard"><strong>Dashboard Home (<code>/dashboard</code>)</strong> </h4>
        <p>The central hub for library operations, featuring <strong>Real-Time Updates</strong> via <a
                href="http://Socket.io">Socket.io</a>.</p>
        <ul>
            <li><strong>KPI Cards</strong>:
                <ul>
                    <li><strong>Total Books/Students</strong>: Quick access to respective managers.</li>
                    <li><strong>Issued Today</strong>: Modal view of day's issues.</li>
                    <li><strong>Overdue</strong>: Modal view of active loans past due date.</li>
                    <li><strong>Fines</strong>: Total collected amount (paid fines).</li>
                    <li><strong>Lost/Damaged</strong>: Count of unavailable inventory.</li>
                </ul>
            </li>
            <li><strong>Visual Analytics</strong>:
                <ul>
                    <li><strong>Pie Chart</strong>: Book distribution by Department.</li>
                    <li><strong>Bar Chart</strong>: Student strength by Department.</li>
                    <li><strong>Trending</strong>: Top 5 most issued books (Vertical Bar).</li>
                </ul>
            </li>
            <li><strong>Recent Activity</strong>: Live stream of the last 10 system audit logs (Admin only).</li>
            <li><strong>Role-Based Visibility</strong>: Widgets hide automatically if the user lacks permission (e.g.,
                'Fines' hidden if no 'CIRCULATION' access).</li>
        </ul>
        <h4 id="catalog-management-dashboardbooks"><strong>Catalog Management (<code>/dashboard/books</code>)</strong>
        </h4>
        <p>The central command center for library inventory. This module lists all bibliographic records and provides
            granular control over physical copies.</p>
        <h5 id="1-toolbar--navigation"><strong>1. Toolbar &amp; Navigation</strong> </h5>
        <ul>
            <li><strong>Search Bar</strong>:
                <ul>
                    <li><strong>Scope</strong>: Performs a real-time "fuzzy" search across <strong>Title</strong>,
                        <strong>Author</strong>, and <strong>ISBN</strong> fields.
                    </li>
                    <li><strong>Behavior</strong>: Debounced input triggers backend query (SQL <code>LIKE %...%</code>).
                    </li>
                </ul>
            </li>
            <li><strong>Filters</strong>:
                <ul>
                    <li><strong>Department</strong>: Dropdown to filter books by specific department (e.g., "Computer
                        Science", "Physics"). defaults to "All Departments".</li>
                </ul>
            </li>
            <li><strong>Sorting</strong>:
                <ul>
                    <li><strong>Recently Added</strong>: Sorts by <code>created_at</code> (Descending).</li>
                    <li><strong>Title (A-Z)</strong>: Alphabetical sort.</li>
                    <li><strong>Availability</strong>: Sorts by <code>available_copies</code> (High to Low) to quickly
                        identify stocked items.</li>
                </ul>
            </li>
            <li><strong>Action Buttons</strong>:
                <ul>
                    <li><strong>Bulk Delete (Dynamic)</strong>: Appears ONLY when one or more books are selected.</li>
                    <li><strong>Export</strong>: Opens Export Modal.</li>
                    <li><strong>Import</strong>: Opens CSV Import Modal.</li>
                    <li><strong>Add Book</strong>: Opens Smart Add Modal.</li>
                </ul>
            </li>
        </ul>
        <h5 id="2-book-list-interface-smart-table"><strong>2. Book List Interface (Smart Table)</strong> </h5>
        <ul>
            <li><strong>Visuals</strong>:
                <ul>
                    <li><strong>Cover Preview</strong>: Hovering over the cover thumbnail expands it for a better view.
                    </li>
                    <li><strong>Availability Badge</strong>: Color-coded progress bar:
                        <ul>
                            <li><strong>Green</strong>: High Availability (&gt;30%).</li>
                            <li><strong>Yellow</strong>: Low Stock (&lt;30%).</li>
                            <li><strong>Red</strong>: Out of Stock (0 available).</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Selection Logic</strong>:
                <ul>
                    <li><strong>Single Select</strong>: Checkbox for individual rows.</li>
                    <li><strong>Global Select</strong>: Header checkbox offers a <strong>Smart Popup</strong>:
                        <ul>
                            <li>"Select Page" (Current 10/20 items).</li>
                            <li>"Select All Global" (All items in database matching filter).</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Row Actions</strong>:
                <ul>
                    <li><strong>View (<code>Eye</code>)</strong>: Opens Book Detail Modal (Read-Only view of metadata
                        &amp; copies).</li>
                    <li><strong>Edit (<code>Pencil</code>)</strong>: Opens Edit Modal to modify metadata.</li>
                    <li><strong>Manage Copies (<code>Layers</code>)</strong>: Opens dedicated modal for physical copy
                        tracking.</li>
                    <li><strong>Delete (<code>Trash</code>)</strong>: Safe delete with dependency check.</li>
                </ul>
            </li>
        </ul>
        <h5 id="3-crud-operations"><strong>3. CRUD Operations</strong> </h5>
        <ul>
            <li><strong>Add Book (Smart Modal)</strong>:
                <ul>
                    <li><strong>Auto-Fetch</strong>: Entering an ISBN triggers a background search to Google Books/Open
                        Library. If found, it auto-fills Title, Author, Publisher, and Cover URL.</li>
                    <li><strong>Auto-ID</strong>: "Auto ID" button generates a unique internal ISBN
                        (<code>AG-{Random}</code>) for items without barcodes.</li>
                    <li><strong>Initial Copies</strong>: "Total Copies" field auto-generates that many physical records
                        (e.g., 5 copies = <code>ISBN-001</code> to <code>ISBN-005</code>).</li>
                </ul>
            </li>
            <li><strong>Edit Book</strong>:
                <ul>
                    <li><strong>Constraint</strong>: <code>ISBN</code> is permanently locked to preserve relational
                        integrity.</li>
                    <li><strong>Modifiable</strong>: Title, Author, Price, Shelf Location, Cover URL.</li>
                </ul>
            </li>
            <li><strong>Delete Book</strong>:
                <ul>
                    <li><strong>Safety Check</strong>: Backend pre-check verifies if <em>any</em> copy of the book is
                        currently <code>Issued</code>.</li>
                    <li><strong>Blocking</strong>: If issued, deletion is <strong>Rejected</strong> with an error:
                        "Cannot delete: X copies are currently issued."</li>
                    <li><strong>Success</strong>: If safe, performs a <strong>Cascade Delete</strong> (Removes Book +
                        All Available Copies).</li>
                    <li><strong>History</strong>: Updates historical <code>transaction_logs</code> to suffix the book
                        title with <code>(Deleted)</code> so past reports remain accurate.</li>
                </ul>
            </li>
        </ul>
        <h5 id="4-physical-copy-management-manage-copies"><strong>4. Physical Copy Management
                (<code>Manage Copies</code>)</strong> </h5>
        <ul>
            <li><strong>Accession Logic</strong>:
                <ul>
                    <li><strong>Add Copies</strong>: Appends new copies starting from the <em>last highest</em>
                        accession number (e.g., if <code>978-005</code> exists, adding 2 creates <code>978-006</code>,
                        <code>978-007</code>).
                    </li>
                </ul>
            </li>
            <li><strong>Status Control</strong>:
                <ul>
                    <li>Toggle status of individual copies: <code>Available</code>  <code>Lost</code> 
                        <code>Damaged</code>  <code>Maintenance</code>.
                    </li>
                    <li><strong>Restriction</strong>: <code>Issued</code> status is read-only here (managed by
                        Circulation).</li>
                </ul>
            </li>
            <li><strong>Cleanup</strong>: Delete individual copies (e.g., if a specific volume is permanently
                destroyed).</li>
        </ul>
        <h5 id="5-smart-bulk-import-modal-smartbulkimportmodal"><strong>5. Smart Bulk Import Modal
                (<code>SmartBulkImportModal</code>)</strong> </h5>
        <p>A sophisticated data ingestion tool handling CSV, XLSX, and XLS formats.</p>
        <ul>
            <li><strong>Step 1: File Upload</strong>:
                <ul>
                    <li><strong>Drag &amp; Drop Zone</strong>: Accepts files up to <strong>20MB</strong>.</li>
                    <li><strong>Template</strong>: Provides a downloadable "Sample Template" with correct headers.</li>
                    <li><strong>Validation</strong>: Blocks files exceeding size limit immediately.</li>
                </ul>
            </li>
            <li><strong>Step 2: Intelligent Parsing &amp; Mapping</strong>:
                <ul>
                    <li><strong>Fuzzy Header Matching</strong>: Automatically maps CSV columns to DB fields (e.g., maps
                        "Book Title" -&gt; <code>title</code>, "Author Name" -&gt; <code>author</code>) using a
                        Levenshtein distance algorithm.</li>
                    <li><strong>Date Normalization</strong>: Robustly parses dates from:
                        <ul>
                            <li>Excel Serial Numbers (e.g., <code>44562</code>).</li>
                            <li>ISO formats (<code>2024-01-20</code>).</li>
                            <li>Regional formats (<code>20/01/2024</code> or <code>20-01-2024</code>).</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Step 3: Preview &amp; Clean Data</strong>:
                <ul>
                    <li><strong>Real-Time Validation</strong>:
                        <ul>
                            <li><strong>Errors (Red)</strong>: Missing required fields, invalid numbers using regex.
                            </li>
                            <li><strong>Warnings (Orange)</strong>: Potential issues like suspicious email formats.</li>
                            <li><strong>Duplicates (Purple)</strong>: Detects duplicate Keys (e.g., ISBN) within the
                                file itself.</li>
                        </ul>
                    </li>
                    <li><strong>Batch Operations Toolbar</strong>:
                        <ul>
                            <li><strong>Find &amp; Replace</strong>: Bulk edit values across a selected column.</li>
                            <li><strong>Transform Text</strong>: One-click utilities: <code>UPPERCASE</code>,
                                <code>lowercase</code>, <code>Title Case</code>, <code>Trim Whitespace</code>.
                            </li>
                            <li><strong>Remove Duplicates</strong>: Instantly purges internal duplicates from the
                                preview.</li>
                        </ul>
                    </li>
                    <li><strong>Stats Bar</strong>: Interactive filter tabs showing counts for <code>Valid</code>,
                        <code>Warnings</code>, <code>Errors</code>, and <code>Duplicates</code>. Clicking a tab filters
                        the table view.
                    </li>
                </ul>
            </li>
            <li><strong>Step 4: Import Execution</strong>:
                <ul>
                    <li><strong>Blocker</strong>: Import button is <strong>Disabled</strong> if critical
                        <code>Errors</code> exist.
                    </li>
                    <li><strong>Override</strong>: Allows proceeding with <code>Warnings</code> or
                        <code>Duplicates</code> (after confirmation).
                    </li>
                </ul>
            </li>
        </ul>
        <h5 id="6-data-export"><strong>6. Data Export</strong> </h5>
        <ul>
            <li><strong>Formats</strong>: PDF (Printable list) or CSV (Raw data).</li>
            <li><strong>Scope</strong>: Exports either "Selected Rows" or "All Filtered Data".</li>
        </ul>
        <h4 id="members-management-students-dashboardstudents"><strong>Members Management (Students)
                (<code>/dashboard/students</code>)</strong> </h4>
        <p>Comprehensive module for managing student life-cycles, from admission to graduation.</p>
        <h5 id="1-student-list--filters"><strong>1. Student List &amp; Filters</strong> </h5>
        <ul>
            <li><strong>Smart Table</strong>:
                <ul>
                    <li><strong>Columns</strong>: #, Profile (Avatar/Initials), Name, Register No, Department, Semester,
                        Status, Actions.</li>
                    <li><strong>Status Indicators</strong>:
                        <ul>
                            <li><strong>Active (Green)</strong>: Good standing.</li>
                            <li><strong>Blocked (Red)</strong>: Suspended privileges (e.g., severe overdue).</li>
                            <li><strong>Graduated (Purple)</strong>: Alumni status.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Search &amp; Filter</strong>:
                <ul>
                    <li><strong>Multi-Field Search</strong>: Context-aware search across Name and Register Number.</li>
                    <li><strong>Filters</strong>: Drill down by <strong>Department</strong> and
                        <strong>Semester</strong> (1-6, Alumni).
                    </li>
                </ul>
            </li>
            <li><strong>Selection Logic</strong>:
                <ul>
                    <li><strong>Global Select</strong>: Header checkbox enables operations on the entire dataset (e.g.,
                        "Select All 1500 students") vs. just the current page.</li>
                </ul>
            </li>
        </ul>
        <h5 id="2-academic-promotion-structure-smart-promotion"><strong>2. Academic Promotion Structure (Smart
                Promotion)</strong> </h5>
        <ul>
            <li><strong>Bulk Promote</strong>:
                <ul>
                    <li><strong>Logic</strong>:
                        <ul>
                            <li><strong>Sem 1-5</strong>: Automatically increments Semester by +1 (e.g., Sem 2 -&gt; Sem
                                3).</li>
                            <li><strong>Sem 6</strong>: Transitions to <strong>"Alumni"</strong> semester and sets
                                Status to <strong>"Graduated"</strong>.</li>
                        </ul>
                    </li>
                    <li><strong>Safety</strong>: Wrapped in a database transaction. If any record fails, the entire
                        batch rolls back.</li>
                </ul>
            </li>
            <li><strong>Bulk Demote</strong>:
                <ul>
                    <li><strong>Logic</strong>: Reverses the promotion logic (e.g., Sem 3 -&gt; Sem 2). "Alumni" reverts
                        to "Sem 6" &amp; "Active".</li>
                </ul>
            </li>
            <li><strong>Defaulter Check</strong>: Report available to identify students with pending books/fines before
                promotion (optional pre-check).</li>
        </ul>
        <h5 id="3-crud--life-cycle"><strong>3. CRUD &amp; Life-Cycle</strong> </h5>
        <ul>
            <li><strong>Add Student</strong>:
                <ul>
                    <li><strong>Validation</strong>: Enforces unique <code>Register Number</code> and
                        <code>Email</code>.
                    </li>
                    <li><strong>Fields</strong>: Full Name, Father's Name, DOB (Required), Dept, Sem, Contact Info.</li>
                </ul>
            </li>
            <li><strong>Edit Student</strong>:
                <ul>
                    <li><strong>Modifiable</strong>: All fields except system-generated IDs. Status can be manually
                        toggled to <code>Blocked</code>/<code>Active</code>.</li>
                </ul>
            </li>
            <li><strong>Delete Student (Liability Protected)</strong>:
                <ul>
                    <li><strong>Pre-Check</strong>: System scans <code>circulation</code> (Active Loans) and
                        <code>fines</code> (Unpaid Fines).
                    </li>
                    <li><strong>Blocking</strong>:
                        <ul>
                            <li><strong>If Liabilities Exist</strong>: Deletion is <strong>Blocked</strong>. Error:
                                "Cannot delete: Student has X active loans / Y unpaid fines."</li>
                            <li><strong>If Clean</strong>: As detailed below.</li>
                        </ul>
                    </li>
                    <li><strong>Anonymization (GDPR Compliance)</strong>:
                        <ul>
                            <li><strong>Permanent Delete</strong>: Removes record from <code>students</code> table.</li>
                            <li><strong>History Preservation</strong>: Updates past <code>transaction_logs</code> and
                                <code>fines</code> history:
                                <ul>
                                    <li>Sets <code>student_id</code> to <code>NULL</code>.</li>
                                    <li>Appends <code>(Deleted)</code> to the historical <code>student_name</code> field
                                        (e.g., "John Doe (Deleted)").</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <h5 id="4-bulk-operations"><strong>4. Bulk Operations</strong> </h5>
        <ul>
            <li><strong>Bulk Delete</strong>: Accepts a list of IDs. Runs the <strong>Liability Check</strong> for
                <em>each</em> student. Only deletes those with 0 liabilities; returns error report for others.
            </li>
            <li><strong>Import/Export</strong>:
                <ul>
                    <li><strong>Import</strong>: Uses the <strong>Smart Bulk Import</strong> modal (see above).</li>
                    <li><strong>Export</strong>: Generates reports including Register No, Name, Dept, and current
                        Status.</li>
                </ul>
            </li>
        </ul>
        <h4 id="department-management-dashboarddepartments"><strong>Department Management
                (<code>/dashboard/departments</code>)</strong> </h4>
        <p>Foundational structure for categorizing books and students.</p>
        <ul>
            <li><strong>Fields</strong>: Name (Unique), Code (Unique), Description.</li>
            <li><strong>HOD Signature</strong>: Upload digital signature for generating automated No-Due
                Certificates/Reports.</li>
            <li><strong>Live Counters</strong>: Displays real-time count of <strong>Books</strong> and
                <strong>Students</strong> associated with each department.
            </li>
            <li><strong>Integrity</strong>: Prevents deletion if linked resources exist (Foreign Key checks).</li>
        </ul>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Module</th>
                    <th style="text-align:left">Route</th>
                    <th style="text-align:left">Controller (Backend)</th>
                    <th style="text-align:left">Key Functionality</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Catalog</strong></td>
                    <td style="text-align:left"><code>/books</code></td>
                    <td style="text-align:left"><code>bookController.js</code></td>
                    <td style="text-align:left">Add/Edit books, Manage Copies, Print Barcodes.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Members</strong></td>
                    <td style="text-align:left"><code>/students</code></td>
                    <td style="text-align:left"><code>studentController.js</code></td>
                    <td style="text-align:left">Register, Bulk Import, Promote/Demote, Liability Checks.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Departments</strong></td>
                    <td style="text-align:left"><code>/departments</code></td>
                    <td style="text-align:left"><code>departmentController.js</code></td>
                    <td style="text-align:left">Manage Depts, Upload HOD Signatures, Resource Counts.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Circulation</strong></td>
                    <td style="text-align:left"><code>/circulation</code></td>
                    <td style="text-align:left"><code>circulationHandler.js</code></td>
                    <td style="text-align:left"><strong>F1: Issue, F2: Return, F3: Renew</strong>. High-speed barcode
                        scanning interface.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Fines</strong></td>
                    <td style="text-align:left"><code>/fines</code></td>
                    <td style="text-align:left"><code>fineController.js</code></td>
                    <td style="text-align:left">Track unpaid dues, Collect payments (partial/full), Waive off, Receipt
                        Generation.</td>
                </tr>
            </tbody>
        </table>
        <h4 id="circulation-module-dashboardcirculation"><strong>Circulation Module
                (<code>/dashboard/circulation</code>)</strong> </h4>
        <p>High-performance interface designed for speed, using <strong>F-Keys</strong> (F1, F2, F3) for tab switching.
        </p>
        <h5 id="1-issue-tab-f1"><strong>1. Issue Tab (F1)</strong> </h5>
        <ul>
            <li><strong>Student Identification</strong>:
                <ul>
                    <li><strong>Search</strong>: Accepts Register Number or Name (with Auto-Complete).</li>
                    <li><strong>Digital ID View</strong>: Displays Student Photo, Department, and <strong>Digital
                            Signatures</strong> (Principal &amp; HOD) for instant verification.</li>
                    <li><strong>Validation Logic</strong>:
                        <ul>
                            <li><strong>Account Status</strong>: Must be 'Active'.</li>
                            <li><strong>Loan Limit</strong>: Checks
                                <code>Active Loans + Cart Size &lt;= Max Loans</code> (Default: 5).
                            </li>
                            <li><strong>Liability Block</strong>: Blocks issue if
                                <code>Unpaid Fines + Est. Overdue Fines &gt; Limit</code> (Default: 500).
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Book Scanning (Cart System)</strong>:
                <ul>
                    <li><strong>Batch Issue</strong>: Scan multiple barcodes into a "Cart" before confirming.</li>
                    <li><strong>Conflict Check</strong>: Prevents adding duplicate copies or currently 'Issued' books.
                    </li>
                    <li><strong>ISBN Resolution</strong>: Auto-fetches Book Title/Author from internal DB for
                        confirmation.</li>
                </ul>
            </li>
            <li><strong>Completion</strong>:
                <ul>
                    <li><strong>Transaction</strong>: Generates a Session ID.</li>
                    <li><strong>Receipt</strong>: Sends an instant <strong>Email Receipt</strong> to the student with
                        Due Dates.</li>
                </ul>
            </li>
        </ul>
        <h5 id="2-return-tab-f2"><strong>2. Return Tab (F2)</strong> </h5>
        <ul>
            <li><strong>Smart Search</strong>:
                <ul>
                    <li>Locate active loans by Student Name, RegNo, or <strong>Book ISBN/Accession</strong>.</li>
                    <li><strong>Grouping</strong>: Displays loans grouped by Student in an accordion layout.</li>
                </ul>
            </li>
            <li><strong>Return Modal</strong>:
                <ul>
                    <li><strong>Condition Reporting</strong>:
                        <ul>
                            <li><strong>Good</strong>: Standard return.</li>
                            <li><strong>Damaged</strong>: Triggers fine input (Default: 100).</li>
                            <li><strong>Lost</strong>: Triggers fine input (Default: 500).</li>
                        </ul>
                    </li>
                    <li><strong>Fine Calculation</strong>:
                        <ul>
                            <li><strong>Overdue</strong>: <code>(Days Late * Daily Rate)</code>.</li>
                            <li><strong>Total</strong>: <code>Overdue Fine + Damage/Lost Penalty</code>.</li>
                        </ul>
                    </li>
                    <li><strong>Replacements</strong>:
                        <ul>
                            <li><strong>Lost w/ Replacement</strong>: Workflow to mark old copy as 'Lost', waive the
                                fine, and auto-accession the <strong>new replacement copy</strong> under the same ISBN.
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <h5 id="3-renew-tab-f3"><strong>3. Renew Tab (F3)</strong> </h5>
        <ul>
            <li><strong>Policy Check</strong>:
                <ul>
                    <li>Verifies <code>Renewal Count &lt; Max Renewals</code> (Default: 1).</li>
                    <li>Checks if book is reserved (future feature).</li>
                </ul>
            </li>
            <li><strong>Action</strong>: Extends <code>Due Date</code> by <code>Renewal Days</code> (Default: 15) from
                today.</li>
            <li><strong>Audit</strong>: Logs the renewal event in <code>transaction_logs</code>.</li>
        </ul>
        <h4 id="financial--fine-management-dashboardfines"><strong>Financial &amp; Fine Management
                (<code>/dashboard/fines</code>)</strong> </h4>
        <p>Detailed ledger of all financial liabilities.</p>
        <ul>
            <li><strong>Workflow</strong>:
                <ol>
                    <li><strong>Detection</strong>: Fines are generated automatically upon 'Return' (Overdue/Damage) or
                        'Audit' (Lost).</li>
                    <li><strong>Payment Collection</strong>:
                        <ul>
                            <li>Select single or multiple fines for a student.</li>
                            <li><strong>Receipt</strong>: Auto-generates unique Receipt ID (<code>REC-...</code>).</li>
                            <li><strong>Log</strong>: entries created in <code>transaction_logs</code> with type
                                <code>FINE_PAID</code>.
                            </li>
                        </ul>
                    </li>
                    <li><strong>Waiver</strong>:
                        <ul>
                            <li>Authorized staff can "Waive Off" fines with a mandatory <strong>Reason</strong>.</li>
                            <li>Logs transaction as <code>FINE_WAIVED</code>.</li>
                        </ul>
                    </li>
                </ol>
            </li>
            <li><strong>Email Receipts</strong>: Automatic PDF-style email sent to student upon payment/waiver.</li>
        </ul>
        <h4 id="transaction-history-dashboardhistory"><strong>Transaction History
                (<code>/dashboard/history</code>)</strong> </h4>
        <p>Electronic audit trail of all circulation activities.</p>
        <ul>
            <li><strong>Filters &amp; Search</strong>:
                <ul>
                    <li><strong>Time Ranges</strong>: Today, This Week, This Month, This Year, or All Time.</li>
                    <li><strong>Context</strong>: Filter by <code>Department</code> (e.g., "Civil Engineering") or
                        <code>Status</code> (ISSUE/RETURN/RENEW).
                    </li>
                    <li><strong>Search</strong>: Instant lookup by Student Name or Book Title.</li>
                </ul>
            </li>
            <li><strong>Smart Table</strong>:
                <ul>
                    <li><strong>Columns</strong>: Student, Book Details (Title + Accession), Date/Time, Action Type
                        (Color-coded).</li>
                    <li><strong>Detail View</strong>: Clicking a row reveals full metadata (e.g., Return Condition, Fine
                        Amount, Remarks).</li>
                </ul>
            </li>
            <li><strong>Data Export</strong>:
                <ul>
                    <li><strong>Formats</strong>: PDF, CSV, Excel.</li>
                    <li><strong>Scope</strong>: Exports either the "Current Filtered View" or "Selected Specific Rows".
                    </li>
                </ul>
            </li>
        </ul>
        <h4 id="staff-management-dashboardstaff"><strong>Staff Management (<code>/dashboard/staff</code>)</strong> </h4>
        <p>Secure interface for managing library personnel and their system privileges.</p>
        <ul>
            <li><strong>Role-Based Access Control (RBAC)</strong>:
                <ul>
                    <li><strong>Permissions</strong>: Granular access control assigned per staff member:
                        <ul>
                            <li><code>CIRCULATION</code>: Access to Issue/Return/Renew (F1-F3) and Fine collection.</li>
                            <li><code>MEMBERS</code>: Ability to Register, Edit, or Promote students.</li>
                            <li><strong>CATALOG</strong>: Authority to Add/Edit/Delete books and manage copies.</li>
                            <li><strong>REPORTS</strong>: Read-only access to system analytics.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Security Lifecycle</strong>:
                <ul>
                    <li><strong>Onboarding</strong>: New accounts are created with a default password
                        (<code>password123</code>) which they must change on first login.</li>
                    <li><strong>Instant Revocation</strong>:
                        <ul>
                            <li><strong>Disable</strong>: Action immediately locks the account (Status -&gt; 'Disabled')
                                without deleting data. Useful for suspensions or long leave.</li>
                            <li><strong>Reset Password</strong>: Admin can force-reset a forgotten password back to
                                default.</li>
                        </ul>
                    </li>
                    <li><strong>Safe Deletion</strong>:
                        <ul>
                            <li><strong>Constraint</strong>: Prevents deletion of the "SYSTEM" account.</li>
                            <li><strong>Data Integrity</strong>: Before deletion, the system unlinks the Staff ID from
                                all their past actions (Issues, Fines) by setting <code>performed_by = NULL</code>,
                                preserving the audit trail without broken references.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Activity Monitoring</strong>:
                <ul>
                    <li><strong>Real-Time Stats</strong>: Live counters for Total Staff, Active vs. Disabled, and their
                        Total Transactions.</li>
                    <li><strong>Audit Trail</strong>: Every action taken by a staff member is logged against their ID in
                        <code>transaction_logs</code> and <code>audit_logs</code>.
                    </li>
                </ul>
            </li>
        </ul>
        <h4 id="admin-management-dashboardadmins"><strong>Admin Management (<code>/dashboard/admins</code>)</strong>
        </h4>
        <p>High-level system administration and communication.</p>
        <ul>
            <li><strong>Root Admin Protection</strong>:
                <ul>
                    <li><strong>Immutability</strong>: The primary root account (<code>veerkotresh@gmail.com</code>) is
                        hardcoded to be <strong>undeletable</strong> and <strong>cannot be disabled</strong>. This
                        prevents accidental system lockouts.</li>
                </ul>
            </li>
            <li><strong>Admin Lifecycle</strong>:
                <ul>
                    <li><strong>Creation</strong>: New admins are initialized with the default password
                        <code>password123</code>.
                    </li>
                    <li><strong>Privileges</strong>: All admins have full access to Staff, Catalog, and Students, but
                        purely "Admin" management rights are equal (peer-management), except for Root protection.</li>
                </ul>
            </li>
            <li><strong>Communication Hub (Broadcast) (<code>/dashboard/notifications</code>)</strong>:
                <ul>
                    <li><strong>Composer</strong>: Rich text editor for sending mass emails.
                        <ul>
                            <li><strong>Target Audience</strong>:
                                <ul>
                                    <li><strong>Specific Students</strong>: Multi-select search.</li>
                                    <li><strong>Overdue</strong>: Auto-targets all students with active overdue books.
                                    </li>
                                    <li><strong>Issued</strong>: Targets all students with active loans.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><strong>Channel</strong>: Uses configured SMTP service (managed in Settings).</li>
                    <li><strong>History</strong>: Logs all sent broadcasts with recipient count and status
                        (Sent/Failed).</li>
                </ul>
            </li>
        </ul>
        <h4 id="audit-logs-dashboardaudit"><strong>Audit Logs (<code>/dashboard/audit</code>)</strong> </h4>
        <p>Immutable system logs for security and compliance.</p>
        <ul>
            <li><strong>Scope</strong>: Tracks Login/Logout, Staff Actions (Create/Edit/Delete), and System Errors.</li>
            <li><strong>Structure</strong>: Each entry contains:
                <ul>
                    <li><strong>Timestamp</strong>: Exact time of action (IST).</li>
                    <li><strong>Actor</strong>: Who performed the action (Name + Role).</li>
                    <li><strong>Action</strong>: Type (e.g., <code>CREATE</code>, <code>UPDATE</code>,
                        <code>DELETE</code>, <code>LOGIN</code>, <code>ISSUE</code>).
                    </li>
                    <li><strong>Module</strong>: Affected area (e.g., <code>Auth</code>, <code>Books</code>,
                        <code>Circulation</code>).
                    </li>
                    <li><strong>Description</strong>: Human-readable summary.</li>
                    <li><strong>Metadata</strong>: Technical details (JSON) like IP address or specific changed fields.
                    </li>
                </ul>
            </li>
            <li><strong>Features</strong>:
                <ul>
                    <li><strong>Detailed Filtering</strong>: Filter by Date Range, Module, Actor Role, or Action Type.
                    </li>
                    <li><strong>Smart Export</strong>: Download logs as <strong>CSV</strong>, <strong>Excel</strong>, or
                        <strong>PDF</strong> for external auditing.
                    </li>
                    <li><strong>Security</strong>: Read-only for all staff; only Root Admin can export.</li>
                    <li><strong>Real-Time</strong>: Logs appear instantly via WebSockets.<br>
                        | <strong>Fines</strong> | <code>-</code> | <code>fineController.js</code> | Fine collection,
                        Receipt generation, Waivers. (Integrated in Return/Profile). |</li>
                </ul>
            </li>
        </ul>
        <h4 id="policy-manager-dashboardpolicy"><strong>Policy Manager (<code>/dashboard/policy</code>)</strong> </h4>
        <p>Centralized configuration for library rules and fines.</p>
        <ul>
            <li><strong>Borrowing Rules</strong>:
                <ul>
                    <li><strong>Limits</strong>: Define <code>Max Books</code> per student (e.g., 5).</li>
                    <li><strong>Durations</strong>: Set default <code>Loan Period</code> (e.g., 15 days) and
                        <code>Renewal Period</code> (e.g., 10 days).
                    </li>
                    <li><strong>Renewal Cap</strong>: Restrict consecutive renewals (e.g., Max 2 times).</li>
                </ul>
            </li>
            <li><strong>Financial Rules</strong>:
                <ul>
                    <li><strong>Daily Fine</strong>: Overdue penalty rate (e.g., 1.00 per day).</li>
                    <li><strong>Lost Book Penalty</strong>: Fixed surcharge (e.g., 500) added to book replacement
                        cost.</li>
                    <li><strong>Damaged Book Penalty</strong>: Fixed fine (e.g., 100).</li>
                </ul>
            </li>
            <li><strong>Security</strong>:
                <ul>
                    <li><strong>Password Protected</strong>: Any change to policy requires <strong>Admin
                            Password</strong> re-entry to prevent unauthorized tampering.</li>
                    <li><strong>Version Control</strong>: System tracks policy versions (e.g., v1.3 -&gt; v1.4) on every
                        save.</li>
                </ul>
            </li>
        </ul>
        <h4 id="settings-manager-settings"><strong>Settings Manager (<code>/settings</code>)</strong> </h4>
        <p>System-wide configuration and hardware management.</p>
        <ul>
            <li><strong>Appearance</strong>:
                <ul>
                    <li><strong>Themes</strong>: Light, Dark, or System Sync.</li>
                    <li><strong>Accessibility</strong>: High Contrast Mode and Font Scaling (80% - 150%).</li>
                    <li><strong>Language</strong>: Toggle between English and Regional (Kannada - <code>kn</code>).</li>
                </ul>
            </li>
            <li><strong>Hardware Integration</strong>:
                <ul>
                    <li><strong>Barcode Scanner</strong>: Configure Input Mode (Keyboard/Serial) and Prefix Stripping.
                        Includes a live test area.</li>
                    <li><strong>Printer</strong>: Select default device (System/POS/PDF) and Paper Size (58mm/80mm/A4).
                        Support for <strong>Auto-Print</strong> receipts.</li>
                </ul>
            </li>
            <li><strong>Data Management</strong>:
                <ul>
                    <li><strong>Cloud Sync</strong>: Connect to <strong>MongoDB Atlas</strong> for off-site backups.
                    </li>
                    <li><strong>Smart Backup</strong>: Detects and uploads only modified tables ("dirty tables") to save
                        bandwidth.</li>
                    <li><strong>Automation</strong>: Schedule backups (Daily/Weekly/On Close).</li>
                    <li><strong>Restore</strong>: Full system restoration from Local JSON or Cloud.</li>
                </ul>
            </li>
            <li><strong>Security</strong>:
                <ul>
                    <li><strong>Session</strong>: Configure Auto-Lock timeout (default 5 mins) or Custom duration.</li>
                    <li><strong>Sensitive Actions</strong>: Modifying Email, Backup, or Security settings requires
                        re-entering the <strong>Admin Password</strong>.</li>
                </ul>
            </li>
        </ul>
        <h4 id="system-health-dashboardhealth"><strong>System Health (<code>/dashboard/health</code>)</strong> </h4>
        <p>Real-time diagnostics and performance monitoring.</p>
        <ul>
            <li><strong>Core Metrics</strong>:
                <ul>
                    <li><strong>Computing</strong>: CPU Load (%) and Memory Usage (Used/Free).</li>
                    <li><strong>Storage</strong>: Disk Space usage for the application directory.</li>
                    <li><strong>Network</strong>: Application-level internet access check (Ping <code>google.com</code>)
                        and Latency (ms).</li>
                </ul>
            </li>
            <li><strong>Database Health</strong>:
                <ul>
                    <li><strong>Connectivity</strong>: Runs <code>SELECT 1</code> heartbeat query to ensure SQLite is
                        responsive.</li>
                    <li><strong>Integrity</strong>: Monitors database file size and existence.</li>
                </ul>
            </li>
            <li><strong>Smart Score</strong>:
                <ul>
                    <li>Calculates a <strong>Health Score (0-100)</strong> based on resource pressure.</li>
                    <li><strong>Deductions</strong>: -0.6 pts per 1% CPU &gt; 50%, -1 pt per 1% Disk &gt; 80%, -20 pts
                        for Offline.</li>
                    <li><strong>Status</strong>: Graded as <strong>Optimal</strong> (90+), <strong>Good</strong>,
                        <strong>Fair</strong>, or <strong>Critical</strong>.
                    </li>
                </ul>
            </li>
        </ul>
        <h4 id="department-management-dashboarddepartments-1"><strong>Department Management
                (<code>/dashboard/departments</code>)</strong> </h4>
        <p>Organize academic divisions.</p>
        <ul>
            <li><strong>Structure</strong>: Manage Department Name (e.g., "Computer Science") and Code (e.g., "CS").
            </li>
            <li><strong>Stats</strong>: View real-time Student and Book counts per department.</li>
            <li><strong>Actions</strong>: Create, Edit, Delete (with confirmation safety).</li>
        </ul>
        <h4 id="fine-management-dashboardfines"><strong>Fine Management (<code>/dashboard/fines</code>)</strong> </h4>
        <p>Centralized financial oversight.</p>
        <ul>
            <li><strong>Status View</strong>: Tabbed interface for <strong>Pending</strong> (Unpaid) vs
                <strong>History</strong> (Paid/Waived) fines.
            </li>
            <li><strong>Collections</strong>:
                <ul>
                    <li><strong>Cash Payment</strong>: Collect fines and generate an instant <strong>Digital
                            Receipt</strong>.</li>
                    <li><strong>Waivers</strong>: Admin override to waive fines with a mandatory "Reason" for audit
                        trails.</li>
                </ul>
            </li>
        </ul>
        <h4 id="authentication--public-access"><strong>Authentication &amp; Public Access</strong> </h4>
        <ul>
            <li><strong>Landing Page (<code>/</code>)</strong>: Public portal with "Access Portal" gateway.</li>
            <li><strong>Login (<code>/login</code>)</strong>: Secure entry.
                <ul>
                    <li><strong>Features</strong>: Shake animation on error, Visibility toggle, and Language/Theme/Font
                        controls.</li>
                </ul>
            </li>
            <li><strong>Forgot Password (<code>/forgot-password</code>)</strong>:
                <ul>
                    <li>3-Step Flow: Email Verify -&gt; OTP -&gt; Reset Password.</li>
                    <li>security: Checks if email service is enabled in settings before attempting.</li>
                </ul>
            </li>
        </ul>
        <h4 id="user-profile-dashboardprofile"><strong>User Profile (<code>/dashboard/profile</code>)</strong> </h4>
        <p>Self-service account management.</p>
        <ul>
            <li><strong>Overview</strong>: View assigned Role, Designation, and Email.</li>
            <li><strong>Security</strong>: Change Password functionality (requires Old Password verification).</li>
        </ul>
        <h4 id="reports--analytics-dashboardreports"><strong>Reports &amp; Analytics
                (<code>/dashboard/reports</code>)</strong> </h4>
        <p>Comprehensive statistical overview of library performance.</p>
        <ul>
            <li><strong>Three-Pillared Analytics</strong>:
                <ol>
                    <li><strong>Circulation Reports</strong>:
                        <ul>
                            <li><strong>KPIs</strong>: Active Issues, Monthly Returns, Critical Overdue count.</li>
                            <li><strong>Trend Chart</strong>: Comparative line graph of Issues vs. Returns (7/30/90
                                Days).</li>
                            <li><strong>Top Movers</strong>: "Top 5 Most Borrowed Books" leaderboard.</li>
                        </ul>
                    </li>
                    <li><strong>Financial Reports</strong>:
                        <ul>
                            <li><strong>Ledger</strong>: Total Collected vs. Pending vs. Waived amounts.</li>
                            <li><strong>Revenue Trend</strong>: Daily collection graph.</li>
                        </ul>
                    </li>
                    <li><strong>Inventory Reports</strong>:
                        <ul>
                            <li><strong>Valuation</strong>: Total asset value estimation.</li>
                            <li><strong>Distribution</strong>: Pie charts showing "Books by Department" and "Copy
                                Status" (Available/Issued/Lost).</li>
                        </ul>
                    </li>
                </ol>
            </li>
            <li><strong>Real-Time Data</strong>:
                <ul>
                    <li>Dashboards update instantly via <strong>WebSockets</strong> when any circulation/fine event
                        occurs.</li>
                </ul>
            </li>
            <li><strong>Export &amp; Print</strong>:
                <ul>
                    <li><strong>One-Click Print</strong>: Generates a clean, stripped-down version of the report for
                        thermal/A4 printing.</li>
                    <li><strong>CSV/PDF Export</strong>: Download raw statistical data for external analysis.</li>
                </ul>
            </li>
        </ul>
        <h4 id="audit-logs-dashboardaudit-1"><strong>Audit Logs (<code>/dashboard/audit</code>)</strong> </h4>
        <p>Immutable system logs for security and compliance.</p>
        <ul>
            <li><strong>Scope</strong>: Tracks Login/Logout, Staff Actions (Create/Edit/Delete), and System Errors.</li>
            <li><strong>Security</strong>: Read-only for all staff; only Root Admin can export.<br>
                | <strong>System Health</strong>| <code>/health</code> | <code>healthController.js</code> | Diagnostics
                for DB status, API latency, and disk usage. |</li>
        </ul>
        <hr>
        <h2 id="4-non-functional-requirements">4. Non-Functional Requirements </h2>
        <h3 id="40-requirement-summary-table">4.0 Requirement Summary Table </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Req ID</th>
                    <th style="text-align:left">Category</th>
                    <th style="text-align:left">Priority</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>NFR-001</strong></td>
                    <td style="text-align:left"><strong>Performance</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Dashboard load &lt; 2s; Scanner input &lt; 100ms.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-002</strong></td>
                    <td style="text-align:left"><strong>Availability</strong></td>
                    <td style="text-align:left">Critical</td>
                    <td style="text-align:left">100% Offline functionality for core circulation.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-003</strong></td>
                    <td style="text-align:left"><strong>Reliability</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Zero data corruption on crash (WAL mode); Automated backups.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-004</strong></td>
                    <td style="text-align:left"><strong>Security</strong></td>
                    <td style="text-align:left">Critical</td>
                    <td style="text-align:left">Bcrypt password hashing; Role-Based Access Control (RBAC).</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-005</strong></td>
                    <td style="text-align:left"><strong>Usability</strong></td>
                    <td style="text-align:left">Medium</td>
                    <td style="text-align:left">Accessibility (High Contrast) and Function Key support.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-006</strong></td>
                    <td style="text-align:left"><strong>Scalability</strong></td>
                    <td style="text-align:left">Medium</td>
                    <td style="text-align:left">Support 50,000+ Book records without UI lag.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-007</strong></td>
                    <td style="text-align:left"><strong>Compliance</strong></td>
                    <td style="text-align:left">High</td>
                    <td style="text-align:left">Audit logs for all financial/security actions.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>NFR-008</strong></td>
                    <td style="text-align:left"><strong>Portability</strong></td>
                    <td style="text-align:left">Low</td>
                    <td style="text-align:left">Portable <code>AppData</code> structure for easy migration.</td>
                </tr>
            </tbody>
        </table>
        <h3 id="41-performance-requirements">4.1 Performance Requirements </h3>
        <ul>
            <li><strong>Response Time</strong>: Application should load to the Dashboard within 2 seconds.</li>
            <li><strong>Scanner Input</strong>: Barcode processing (Scan to Cart) must occur within 100ms.</li>
            <li><strong>Database</strong>: SQLite queries for "Verify Borrower" must execute in &lt;50ms.</li>
        </ul>
        <h3 id="42-reliability--availability">4.2 Reliability &amp; Availability </h3>
        <ul>
            <li><strong>Offline Mode</strong>: The system (Issue/Return) must function 100% offline.</li>
            <li><strong>Crash Recovery</strong>: Application must restart without data corruption (SQLite WAL mode).
            </li>
            <li><strong>Backup</strong>: Automated "Smart Backup" to local disk on every application close.</li>
        </ul>
        <h3 id="43-security-requirements">4.3 Security Requirements </h3>
        <ul>
            <li><strong>Password Hashing</strong>: All user passwords must be hashed using bcrypt.</li>
            <li><strong>RBAC enforcement</strong>: API endpoints must verify <code>access_permissions</code> for every
                request.</li>
            <li><strong>Configuration Locking</strong>: Critical settings must require re-entry of Admin Password.</li>
        </ul>
        <h3 id="44-usability">4.4 Usability </h3>
        <ul>
            <li><strong>Accessibility</strong>: Support for High Contrast Mode and Font Scaling.</li>
            <li><strong>Keyboard Support</strong>: Full operation via Function Keys (F1, F2, F3).</li>
            <li><strong>Localization</strong>: English and Kannada support.</li>
        </ul>
        <hr>
        <hr>
        <hr>
        <h2 id="5-functional-design-specification-fdd">5. Functional Design Specification (FDD) </h2>
        <p>This section details how the user interacts with the system, including strict Role definitions, Business
            Rules, and Screen Flows.</p>
        <h3 id="51-user-roles--permissions-rbac">5.1. User Roles &amp; Permissions (RBAC) </h3>
        <p>The system enforces strict security boundaries using a tiered Role-Based Access Control model.</p>
        <h4 id="511-user-role-definitions">5.1.1 User Role Definitions </h4>
        <ul>
            <li><strong>Super Admin ("Root")</strong>: Has unrestricted access to all modules, including system
                configuration, security policies, and database backups. Can manage other staff accounts.</li>
            <li><strong>Librarian (Staff)</strong>: Focused on day-to-day operations. Can issue/return books, manage
                students, and view catalogs. <strong>Cannot</strong> delete audit logs, change fine policies, or access
                system health settings.</li>
            <li><strong>Student / Guest</strong>: Indirect users who utilize library resources. They do not have system
                access or direct interaction with the application interface.</li>
        </ul>
        <h4 id="512-permission-matrix">5.1.2 Permission Matrix </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Module</th>
                    <th style="text-align:center">Super Admin</th>
                    <th style="text-align:center">Librarian</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Auth</strong></td>
                    <td style="text-align:center">Login / Reset Others</td>
                    <td style="text-align:center">Login / Reset Self</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Circulation</strong></td>
                    <td style="text-align:center">Issue / Return / Override</td>
                    <td style="text-align:center">Issue / Return</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Catalog (Books)</strong></td>
                    <td style="text-align:center">Add / Edit / Delete</td>
                    <td style="text-align:center">Add / Edit</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Students</strong></td>
                    <td style="text-align:center">Create / Edit / Block</td>
                    <td style="text-align:center">Create / Edit</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Fines</strong></td>
                    <td style="text-align:center">Collect / Waive</td>
                    <td style="text-align:center">Collect Only</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Staff Mgmt</strong></td>
                    <td style="text-align:center">Full Access</td>
                    <td style="text-align:center">No Access</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Settings</strong></td>
                    <td style="text-align:center">Full Access</td>
                    <td style="text-align:center">Read Only</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Reports</strong></td>
                    <td style="text-align:center">Generate / Export</td>
                    <td style="text-align:center">Generate</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Audit Logs</strong></td>
                    <td style="text-align:center">View / Export</td>
                    <td style="text-align:center">No Access</td>
                </tr>
            </tbody>
        </table>
        <h3 id="52-use-case-descriptions">5.2. Use Case Descriptions </h3>
        <p>Detailed breakdown of primary system interactions.</p>
        <h4 id="table-521-issue-book-uc-01">Table 5.2.1: Issue Book (UC-01) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Field</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Use Case ID</strong></td>
                    <td style="text-align:left"><strong>UC-01</strong></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Use Case Name</strong></td>
                    <td style="text-align:left"><strong>Issue Book</strong></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Actors</strong></td>
                    <td style="text-align:left">Librarian (Staff), Administrator</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Pre-Conditions</strong></td>
                    <td style="text-align:left">1. Student account is 'Active'.<br>2. Book status is 'Available'.<br>3.
                        Student has not exceeded borrowing limit.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Trigger</strong></td>
                    <td style="text-align:left">Staff scans Student ID card or enters Register Number.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Main Flow</strong></td>
                    <td style="text-align:left">1. <strong>Identify</strong>: System fetches Student Profile.<br>2.
                        <strong>Validate</strong>: System checks for Unpaid Fines &gt; Limit.<br>3.
                        <strong>Scan</strong>: Staff scans Book Barcode(s).<br>4. <strong>Commit</strong>: Staff clicks
                        'Issue Books'.<br>5. <strong>Update</strong>: System updates Book -&gt; 'Issued', creates Loan
                        Record.<br>6. <strong>Notify</strong>: Email receipt sent to Student.
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Post-Conditions</strong></td>
                    <td style="text-align:left">Book is marked 'Issued'; Due Date is set; Inventory count decreases.
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Exceptions</strong></td>
                    <td style="text-align:left"><strong>E1: Book Reserved</strong>: Alert staff, block
                        issue.<br><strong>E2: Fine Limit Exceeded</strong>: Block issue until fine is paid.</td>
                </tr>
            </tbody>
        </table>
        <h4 id="table-522-return-book-uc-02">Table 5.2.2: Return Book (UC-02) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Field</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Use Case ID</strong></td>
                    <td style="text-align:left"><strong>UC-02</strong></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Use Case Name</strong></td>
                    <td style="text-align:left"><strong>Return Book</strong></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Actors</strong></td>
                    <td style="text-align:left">Librarian (Staff), Administrator</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Pre-Conditions</strong></td>
                    <td style="text-align:left">Book is currently marked as 'Issued'.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Trigger</strong></td>
                    <td style="text-align:left">Staff scans Book Barcode at Return Desk.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Main Flow</strong></td>
                    <td style="text-align:left">1. <strong>Scan</strong>: Staff scans Book Barcode.<br>2.
                        <strong>Calculate</strong>: System calculates Duration &amp; Overdue Fines.<br>3.
                        <strong>Assess</strong>: Staff checks physical condition (Good/Damaged).<br>4.
                        <strong>Commit</strong>: System processes return.<br>5. <strong>Settlement</strong>: If Fine
                        &gt; 0, Add to Student Ledger.<br>6. <strong>Notify</strong>: Email receipt sent to Student.
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Post-Conditions</strong></td>
                    <td style="text-align:left">Book is 'Available'; Student loan count decreases; Fine added (if any).
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Alternate Flows</strong></td>
                    <td style="text-align:left"><strong>A1: Lost Book</strong>: Staff creates 'Lost' transaction; Cost
                        added to student dues.</td>
                </tr>
            </tbody>
        </table>
        <h3 id="53-business-rules">5.3. Business Rules </h3>
        <ul>
            <li><strong>BR-01 (Liability Limit)</strong>: Students cannot borrow new books if pending fines exceed
                500.</li>
            <li><strong>BR-02 (Renewal Cap)</strong>: A specific book copy can be renewed max 3 times consecutively.
            </li>
            <li><strong>BR-03 (Admin Override)</strong>: Only Admins can waive fines &gt; 100; Staff is limited to
                waivers &lt; 100.</li>
            <li><strong>BR-04 (Safe Delete)</strong>: Students with unreturned books cannot be deleted/archived.</li>
            <li><strong>BR-05 (Audit Trail)</strong>: Financial records (Fines) are immutable; they can only be marked
                'Paid' or 'Waived', never deleted.</li>
        </ul>
        <h3 id="54-screen-flow-navigation-logic">5.4. Screen Flow (Navigation Logic) </h3>
        <ul>
            <li><strong>Public</strong>: Landing -&gt; Login -&gt; (Auth Check) -&gt; Dashboard.</li>
            <li><strong>Circulation</strong>: Dashboard -&gt; Circulation Desk -&gt; (Scan ID) -&gt; Student Profile
                -&gt; (Scan Book) -&gt; Checkout.</li>
            <li><strong>Report</strong>: Dashboard -&gt; Reports -&gt; Select Date Range -&gt; Preview -&gt; Export PDF.
            </li>
        </ul>
        <hr>
        <h3 id="55-detailed-activity-diagrams">5.5. Detailed Activity Diagrams </h3>
        <h4 id="551-master-operational-workflow">5.5.1 Master Operational Workflow </h4>
        <p>This comprehensive map details the complete system lifecycle.</p>
        <div class="mermaid">graph TD
            %% --- ENTRY PHASE ---
            Start((Start)) --&gt; AppLoad[Init Application]
            AppLoad --&gt; ChkSetup{Config Exists?}
            ChkSetup -- No --&gt; FirstRun[Setup Wizard] --&gt; SaveCfg
            ChkSetup -- Yes --&gt; LoginUI[Login Screen]

            %% --- AUTHENTICATION ---
            LoginUI --&gt; Creds[Enter Email/Pass]
            Creds --&gt; AuthVal{Valid Inputs?}
            AuthVal -- No --&gt; AuthErr[Show Error] --&gt; LoginUI
            AuthVal -- Yes --&gt; API_Auth[POST /login]

            API_Auth --&gt; DB_A[(Staff DB)]
            DB_A --&gt; HashCheck{Password Match?}
            HashCheck -- No --&gt; AuthFail[Log Failed Attempt] --&gt; LoginUI
            HashCheck -- Yes --&gt; Token[Gen JWT] --&gt; Store[LocalStorage] --&gt; Dash[Dashboard]

            %% --- DASHBOARD HUB ---
            Dash --&gt; Parallel[Load KPIs &amp; Charts]
            Parallel --&gt; Socket[Connect Realtime]

            Dash --&gt;|Tab F1| Circ_Iss[Issue Desk]
            Dash --&gt;|Tab F2| Circ_Ret[Return Desk]
            Dash --&gt;|Nav| Ppl_Mgmt[Student Mgmt]
            Dash --&gt;|Nav| Bk_Mgmt[Book Catalog]
            Dash --&gt;|Nav| Sys_Conf[Settings]
        </div>
        <h4 id="552-core-circulation-activity-issue--return-cycle">5.5.2 Core Circulation Activity (Issue / Return
            Cycle) </h4>
        <div class="mermaid">graph TD
            Start((Start)) --&gt; Scan[Scan Student ID]
            Scan --&gt; CheckSt{Student Active?}

            CheckSt -- No --&gt; Err1[Display Error] --&gt; End((Stop))
            CheckSt -- Yes --&gt; CheckFine{Unpaid Fines &gt; Limit?}

            CheckFine -- Yes --&gt; Block[Block Issue] --&gt; Pay{Pay Now?}
            Pay -- Yes --&gt; ProcessPay[Process Payment] --&gt; Scan
            Pay -- No --&gt; End

            CheckFine -- No --&gt; SelectMode{Action Type?}

            %% ISSUE BRANCH
            SelectMode -- Issue Book --&gt; ScanBk[Scan Book Barcode]
            ScanBk --&gt; Avail{Book Available?}
            Avail -- No --&gt; Err2[Show 'Already Issued'] --&gt; End
            Avail -- Yes --&gt; Limit{Quota Full?}
            Limit -- Yes --&gt; Reject[Reject Transaction] --&gt; End
            Limit -- No --&gt; Issue[Create Loan Record]
            Issue --&gt; PrtIss[Email Receipt] --&gt; End

            %% RETURN BRANCH
            SelectMode -- Return Book --&gt; ScanRet[Scan Returned Book]
            ScanRet --&gt; Calc[Calculate Overdue]
            Calc --&gt; DMG{Is Damaged?}

            DMG -- Yes --&gt; AddFine[Add Damage Fine] --&gt; TotalWait
            DMG -- No --&gt; Overdue{Is Overdue?}

            Overdue -- Yes --&gt; CalcDays[Calc Late Fee] --&gt; TotalWait
            Overdue -- No --&gt; Close[Close Transaction]

            TotalWait[Wait for Payment] --&gt; PayRet{Pay Fine Now?}

            PayRet -- Yes --&gt; ClearFine[Mark Paid] --&gt; Close
            PayRet -- No --&gt; KeepDebt[Keep as Due] --&gt; Close

            Close --&gt; PrtRet[Email Receipt] --&gt; Restock[Update Inventory] --&gt; End
        </div>
        <h4 id="553-data-management-pipeline-admin-ops">5.5.3 Data Management Pipeline (Admin Ops) </h4>
        <p>Reflects the flow of managing system assets and configuration.</p>
        <div class="mermaid">graph TD
            Start((Admin Login)) --&gt; Dash[Dashboard]
            Dash --&gt; Choice{Select Task}

            %% ADD BOOK FLOW
            Choice -- Add Books --&gt; Input[Input Details]
            Input --&gt; Valid{ISBN Exists?}
            Valid -- Yes --&gt; Merge[Increment Stock] --&gt; DB_B
            Valid -- No --&gt; New[Create New Record] --&gt; DB_B

            %% BACKUP FLOW
            Choice -- Backup --&gt; Detect[Scan Dirty Tables]
            Detect --&gt; HasData{Changes Found?}
            HasData -- No --&gt; Idle[Sleep]
            HasData -- Yes --&gt; Pack[Serialize JSON] --&gt; Upl[Upload to Cloud]

            %% CONFIG FLOW
            Choice -- Settings --&gt; Edit[Edit Config]
            Edit --&gt; Safe{Critical Field?}
            Safe -- No --&gt; Save
            Safe -- Yes --&gt; Auth[Prompt Password]
            Auth --&gt; Pass{Valid?}
            Pass -- No --&gt; Deny[Revert Change]
            Pass -- Yes --&gt; Save[Commit Settings] --&gt; DB_S

            DB_B[(Books DB)]
            DB_S[(Settings DB)]
        </div>
        <h4 id="554-authentication-activity-login">5.5.4 Authentication Activity (Login) </h4>
        <div class="mermaid">graph TD
            Start((Open App)) --&gt; Form[Enter Email &amp; Password]
            Form --&gt; Submit{Click Login}

            Submit --&gt; Val[Validate Inputs]
            Val -- Invalid --&gt; Err1[Show 'Required Fields'] --&gt; Form
            Val -- Valid --&gt; API[Call /api/login]

            API --&gt; DB{Credentials Correct?}
            DB -- No --&gt; Err2[Show 'Invalid Email/Pass'] --&gt; Form
            DB -- Yes --&gt; CheckStatus{Account Active?}

            CheckStatus -- No --&gt; Err3[Show 'Account Disabled'] --&gt; Form
            CheckStatus -- Yes --&gt; Token[Generate JWT]

            Token --&gt; Store[Save to LocalStorage] --&gt; Dash[Redirect Dashboard] --&gt; End((End))
        </div>
        <h4 id="555-student-registration-activity">5.5.5 Student Registration Activity </h4>
        <div class="mermaid">graph TD
            Start((Student Page)) --&gt; Input[Fill Registration Form]
            Input --&gt; Save{Submit}

            Save --&gt; Valid{Inputs Valid?}
            Valid -- No --&gt; Err[Show Validation Error] --&gt; Input

            Valid -- Yes --&gt; CheckDB{RegNo/Email Exists?}
            CheckDB -- Yes --&gt; Dup[Show 'Already Exists'] --&gt; Input

            CheckDB -- No --&gt; Insert[Insert Record]
            Insert --&gt; Success[Show Success Toast] --&gt; Clear[Reset Form] --&gt; End((End))
        </div>
        <h4 id="556-staff-management-activity">5.5.6 Staff Management Activity </h4>
        <div class="mermaid">graph TD
            Start((Staff Page)) --&gt; Action{Action Type}

            Action -- Add Staff --&gt; Fill[Fill Details &amp; Permissions]
            Fill --&gt; Save[Save Staff]
            Save --&gt; Hash[Hash Default Password] --&gt; Insert[DB Insert] --&gt; End

            Action -- Delete Staff --&gt; Select[Select User]
            Select --&gt; CheckLog{Has Log History?}

            CheckLog -- Yes --&gt; Sanitize["Nullify Logs (Keep History)"] --&gt; Del
            CheckLog -- No --&gt; Del[Hard Delete Row]

            Del --&gt; Refresh[Update List] --&gt; End
        </div>
        <h4 id="557-fine-payment-activity">5.5.7 Fine Payment Activity </h4>
        <div class="mermaid">graph TD
            Start((Fines Page)) --&gt; Search[Search Student]
            Search --&gt; List[List Unpaid Fines]
            List --&gt; Select[Select Fines to Pay]

            Select --&gt; Confirm{Confirm Amount}
            Confirm -- Cancel --&gt; List
            Confirm -- Pay --&gt; Mode["Select Method (Cash/UPI)"]

            Mode --&gt; API[Process Payment]
            API --&gt; UpdateDB[Update Status = Paid]
            UpdateDB --&gt; Log[Log Transaction]
            Log --&gt; GenPDF[Generate Receipt]
            GenPDF --&gt; Email[Email Student] --&gt; End((Done))
        </div>
        <h4 id="558-report-generation-activity">5.5.8 Report Generation Activity </h4>
        <div class="mermaid">graph TD
            Start((Reports Page)) --&gt; Input[Select Date Range &amp; Type]
            Input --&gt; Gen{Generate?}

            Gen --&gt; Fetch[Query Transaction Logs]
            Fetch --&gt; Process[Aggregate Data for Charts]

            Process --&gt; Show[Display Table]
            Show --&gt; Exp{Export?}

            Exp -- CSV --&gt; API_CSV[Stream CSV] --&gt; Download
            Exp -- PDF --&gt; Client_PDF[Render DOM to PDF] --&gt; Download
            Exp -- No --&gt; Idle
        </div>
        <h4 id="559-cloud-sync-activity">5.5.9 Cloud Sync Activity </h4>
        <div class="mermaid">graph TD
            Start((Trigger)) --&gt; Check[Get Dirty Tables]
            Check --&gt; Empty{Is Empty?}

            Empty -- Yes --&gt; Skip[Log 'No Changes'] --&gt; End
            Empty -- No --&gt; Loop[For Each Table]

            Loop --&gt; Fetch[SELECT * Rows]
            Fetch --&gt; Upload[POST to MongoDB]
            Upload --&gt; Success{OK?}

            Success -- No --&gt; Retry[Retry / Log Error] --&gt; End
            Success -- Yes --&gt; Clear[Unmark Dirty] --&gt; Loop
        </div>
        <h3 id="56-ui-navigation-flow">5.6. UI Navigation Flow </h3>
        <p>This state diagram visualizes the screen transitions and user journey through the application.</p>
        <div class="mermaid">stateDiagram-v2
            [*] --&gt; Splash
            Splash --&gt; Setup: No Config Found
            Splash --&gt; Login: Config Loaded

            Setup --&gt; Login: Setup Complete

            state Login {
            [*] --&gt; InputCredentials
            InputCredentials --&gt; ForgotPassword: Click 'Forgot?'
            ForgotPassword --&gt; InputCredentials: Reset Complete
            InputCredentials --&gt; Dashboard: Success
            }

            state Dashboard {
            [*] --&gt; Home

            state Home {
            [*] --&gt; KPI_Widgets
            KPI_Widgets --&gt; QuickActions
            }

            state Circulation {
            [*] --&gt; F1_Issue
            F1_Issue --&gt; F2_Return: Press F2
            F2_Return --&gt; F1_Issue: Press F1
            F2_Return --&gt; F3_Renew: Press F3
            F3_Renew --&gt; F1_Issue: Press F1
            }

            state Catalog {
            [*] --&gt; ListBooks
            ListBooks --&gt; AddBook_Modal: Click Add
            ListBooks --&gt; BookDetails_Modal: Click Row
            ListBooks --&gt; BulkImport_Modal: Click Import
            }

            state Members {
            [*] --&gt; ListStudents
            ListStudents --&gt; AddStudent_Modal
            ListStudents --&gt; StudentProfile: Click Row
            }

            state AdminOps {
            [*] --&gt; Settings
            Settings --&gt; StaffManager
            Settings --&gt; AuditLogs
            Settings --&gt; PolicyManager
            }

            Home --&gt; Circulation: Nav Click
            Home --&gt; Catalog: Nav Click
            Home --&gt; Members: Nav Click
            Home --&gt; AdminOps: Nav Click (Admin Only)
            }

            Dashboard --&gt; Login: Logout
        </div>
        <hr>
        <h2 id="6-system-architecture-technical-design">6. System Architecture (Technical Design) </h2>
        <p>The GPTK LMS is a <strong>Desktop Application</strong> built on a <strong>Local-First, Hybrid
                Architecture</strong>. It combines the performance of a native desktop app with the flexibility of
            modern web technologies.</p>
        <h3 id="61-technology-stack">6.1. Technology Stack </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Component</th>
                    <th style="text-align:left">Technology</th>
                    <th style="text-align:left">Version</th>
                    <th style="text-align:left">Purpose / Usage</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Runtime</strong></td>
                    <td style="text-align:left"><strong>Electron</strong></td>
                    <td style="text-align:left">v40.0</td>
                    <td style="text-align:left">Native desktop container, process management, and OS integration.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Frontend</strong></td>
                    <td style="text-align:left"><strong>React.js</strong></td>
                    <td style="text-align:left">v19</td>
                    <td style="text-align:left">User Interface, Component state management (SPA).</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Backend</strong></td>
                    <td style="text-align:left"><strong>Node.js + Express</strong></td>
                    <td style="text-align:left">Latest</td>
                    <td style="text-align:left">REST API, Business Logic, and File System operations.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Database</strong></td>
                    <td style="text-align:left"><strong>SQLite3</strong></td>
                    <td style="text-align:left">v5.x</td>
                    <td style="text-align:left">Serverless, local relational database for offline persistence.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Real-time</strong></td>
                    <td style="text-align:left"><strong><a href="http://Socket.io">Socket.io</a></strong></td>
                    <td style="text-align:left">v4.x</td>
                    <td style="text-align:left">Bi-directional event communication (Live Dashboards).</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Styling</strong></td>
                    <td style="text-align:left"><strong>CSS / Styled Components</strong></td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Responsive design and theming.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Build Tool</strong></td>
                    <td style="text-align:left"><strong>Vite / Webpack</strong></td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Asset bundling and hot module replacement (HMR).</td>
                </tr>
            </tbody>
        </table>
        <h3 id="62-architecture-diagram-logical">6.2. Architecture Diagram (Logical) </h3>
        <div class="mermaid">graph TD
            subgraph "Client Workstation"
            subgraph "Electron Container"
            Main["Main Process (main.js)"]
            IPC["IPC Bridge (preload.js)"]

            subgraph "Renderer Process (Frontend)"
            UI[React UI]
            Router[React Router]
            State["Context API / Redux"]
            Axios[Axios Client]
            SocketC["Socket.io Client"]
            end
            end

            subgraph "Back-End Layer (Child Process)"
            Server[Node.js Express Server]

            subgraph "API Layer"
            AuthC[Auth Controller]
            StaffC[Staff Controller]
            StudC[Student Controller]
            BookC[Book Controller]
            RepC[Report Controller]
            end

            subgraph "Service Layer"
            AuthS[Auth Service]
            CircS[Circulation Logic]
            ExcelS[Excel Parser]
            BackupS[Backup Service]
            end

            subgraph "Data Access Layer"
            DAO[SQLite DAO]
            Models[Data Models]
            end
            end

            DB[(Local SQLite DB)]
            FS["File System (Assets/Logs)"]
            end

            subgraph "Cloud / External"
            Mongo["(MongoDB Atlas - Backup)"]
            SMTP["SMTP Server (Email)"]
            end

            %% -- Connections --
            Main -- "Spawns" --&gt; Server
            Main -- "Window Mgmt" --&gt; UI

            UI --&gt; Router
            Router --&gt; State
            State --&gt; Axios
            State --&gt; SocketC

            Axios -- "HTTP REST" --&gt; Server
            SocketC -- "WebSockets" --&gt; Server

            Server --&gt; AuthC
            Server --&gt; StaffC
            Server --&gt; StudC
            Server --&gt; BookC
            Server --&gt; RepC

            AuthC --&gt; AuthS
            BookC --&gt; ExcelS
            BookC --&gt; CircS

            AuthS --&gt; DAO
            CircS --&gt; DAO
            ExcelS --&gt; DAO
            BackupS --&gt; DAO

            DAO --&gt; DB
            BackupS -- "Sync" --&gt; Mongo
            CircS -- "Notifications" --&gt; SMTP

            Main -- "IPC Events" --&gt; IPC
            IPC -- "Context Bridge" --&gt; UI
        </div>
        <h3 id="63-system-class-diagram-code-structure">6.3. System Class Diagram (Code Structure) </h3>
        <p>This diagram represents the object-oriented structure of the application, mapping Frontend Components to
            Backend Controllers.</p>
        <div class="mermaid">classDiagram
            %% --- Backend Structure ---
            class ExpressServer {
            +start()
            +registerRoutes()
            }

            class Database {
            +run(sql, params)
            +get(sql, params)
            +all(sql, params)
            +prepare(sql)
            }

            class BookController {
            +getAllBooks()
            +addBook(details)
            +deleteBook(isbn)
            +manageCopies(action)
            }

            class StudentController {
            +registerStudent()
            +promoteClass(dept)
            +checkLiability(id)
            }

            class CirculationHandler {
            +validateBorrower(id)
            +issueBooks(batch)
            +returnBook(copyId)
            }

            class FineController {
            +collectFine(receipt)
            +getPendingFines()
            }

            %% Relationships
            ExpressServer --&gt; BookController : Routes
            ExpressServer --&gt; StudentController : Routes
            ExpressServer --&gt; CirculationHandler : Routes
            ExpressServer --&gt; FineController : Routes

            BookController ..&gt; Database : SQL Queries
            StudentController ..&gt; Database : SQL Queries
            CirculationHandler ..&gt; Database : Transactions
            FineController ..&gt; Database : Updates

            %% --- Frontend Structure ---
            class ReactApp {
            +MainLayout
            +Router
            }

            class SocketContext {
            +emit(event)
            +on(event)
            }

            class CatalogPage {
            +fetchBooks()
            +openAddModal()
            }

            class CirculationPage {
            +handleF1_Issue()
            +handleF2_Return()
            }

            class DashboardHome {
            +loadKPIs()
            +renderCharts()
            }

            %% Frontend Relationships
            ReactApp --&gt; DashboardHome
            ReactApp --&gt; CatalogPage
            ReactApp --&gt; CirculationPage

            CatalogPage ..&gt; BookController : API Calls
            CirculationPage ..&gt; CirculationHandler : API Calls
            DashboardHome ..&gt; SocketContext : Realtime Data
        </div>
        <h3 id="63-key-architectural-features">6.3. Key Architectural Features </h3>
        <ul>
            <li><strong>Local-First Data:</strong> All data is stored in
                <code>AppData/GPTK Library Manager/DB/lms.sqlite</code>. This ensures zero-latency operations and full
                offline capability.
            </li>
            <li><strong>Unified Process:</strong> The Backend API (<code>server.js</code>) is launched programmatically
                by the Electron Main process (<code>main.js</code>) on app startup.</li>
            <li><strong>Frameless UI:</strong> The application uses a custom title bar (min/max/close controls)
                implemented via Electron IPC (<code>ipcMain</code> / <code>ipcRenderer</code>).</li>
            <li><strong>Smart Backup:</strong> A <code>changeDetection</code> service hooks into the Database layer to
                detect write operations (<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>) and mark the
                system as "dirty" to trigger backups or syncs.</li>
        </ul>
        <hr>
        <h2 id="7-database-schema-sqlite">7. Database Schema (SQLite) </h2>
        <p>The database matches a <strong>Relational Model</strong> with strict Key references.</p>
        <h3 id="70-entity-relationship-diagram-erd">7.0. Entity Relationship Diagram (ERD) </h3>
        <div class="mermaid">erDiagram
            DEPARTMENTS ||--|{ STUDENTS : "enrolls"
            DEPARTMENTS ||--|{ BOOKS : "owns"

            STUDENTS ||--o{ CIRCULATION : "borrows"
            STUDENTS ||--o{ FINES : "incurs"
            STUDENTS ||--o{ TRANSACTION_LOGS : "triggers"

            BOOKS ||--|{ BOOK_COPIES : "physically_represents"
            BOOK_COPIES ||--o{ CIRCULATION : "is_issued"

            STAFF ||--o{ CIRCULATION : "process_issues"
            STAFF ||--o{ FINES : "collects"
            STAFF ||--o{ AUDIT_LOGS : "generates"
            STAFF ||--o| SYSTEM_SETTINGS : "manages"

            CIRCULATION ||--o{ TRANSACTION_LOGS : "logs_history"
            TRANSACTION_LOGS ||--o| FINES : "creates_liability"

            DEPARTMENTS {
            string id PK "UUID"
            string codeUK "e.g. CS"
            string nameUK "Full Name"
            string description
            string hod_signature "Path"
            timestamp created_at
            timestamp updated_at
            }

            STUDENTS {
            string id PK "UUID"
            string register_number UK "Roll No"
            string full_name
            string dept_id FK "-&gt; departments.id"
            string semester
            string email
            string phone
            date dob
            string father_name
            string address
            string profile_image
            enum status "Active/Blocked/Alumni"
            timestamp created_at
            timestamp updated_at
            }

            STAFF {
            string id PK "UUID"
            string name
            string email UK
            string phone
            string designation
            json access_permissions "['ISSUER', 'VIEWER']"
            string password_hash
            enum status "Active/Disabled"
            timestamp last_login
            timestamp created_at
            timestamp updated_at
            }

            ADMINS {
            string id PK "UUID"
            string name
            string email UK
            string phone
            string password_hash
            enum status
            timestamp last_login
            timestamp created_at
            timestamp updated_at
            }

            BOOKS {
            string id PK "UUID"
            string isbn UK "ISBN-13"
            string title
            string author
            string publisher
            string category
            string dept_id FK "-&gt; departments.id"
            float price
            int stock_total
            int total_copies
            string shelf_location
            string ebook_link
            string cover_image
            enum status "Active/Archived"
            timestamp created_at
            timestamp updated_at
            }

            BOOK_COPIES {
            string id PK "UUID"
            string accession_number UK "Barcode"
            string book_id FK "-&gt; books.id"
            string book_isbn
            enum status "Available/Issued/Lost"
            string location
            timestamp created_at
            timestamp updated_at
            }

            CIRCULATION {
            string id PK "UUID"
            string session_txn_id "Batch Group ID"
            string student_id FK "-&gt; students.id"
            string copy_id FK "-&gt; book_copies.id"
            string issued_by "Staff ID"
            timestamp issue_date
            timestamp due_date
            timestamp last_renewed_date
            int renewal_count
            timestamp created_at
            }

            TRANSACTION_LOGS {
            string id PK "UUID"
            string session_txn_id
            enum action_type "ISSUE/RETURN/LOST"
            string student_id "Snapshot Ref"
            string student_name "Snapshot"
            string student_reg_no "Snapshot"
            string student_dept "Snapshot"
            string copy_id "Snapshot Ref"
            string book_title "Snapshot"
            string book_isbn "Snapshot"
            string performed_by
            timestamp timestamp
            json details
            }

            FINES {
            string id PK "UUID"
            string receipt_number UK
            string transaction_id FK "-&gt; logs.id"
            string student_id
            string student_name
            string student_reg_no
            float amount
            enum status "Unpaid/Paid/Waived"
            boolean is_paid
            timestamp payment_date
            string collected_by
            string remark
            timestamp created_at
            timestamp updated_at
            }

            SYSTEM_SETTINGS {
            string id PK
            string key UK "Config Key"
            string value
            string category
            string description
            string data_type
            boolean is_user_editable
            boolean requires_restart
            string updated_by
            timestamp updated_at
            }

            AUDIT_LOGS {
            string id PK
            timestamp timestamp
            string actor_id
            string actor_role
            string action_type
            string module
            string description
            string ip_address
            json metadata
            string remark
            }
        </div>
        <h3 id="71-core-entities">7.1. Core Entities </h3>
        <h4 id="departments-academic-units"><code>departments</code> (Academic Units) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID v4</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>code</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">e.g., "CS", "CV"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Full Department Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>description</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Optional details</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>hod_signature</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Path to signature image</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="students-borrowers"><code>students</code> (Borrowers) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID v4</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>register_number</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">College Roll No.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>full_name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Student Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>dept_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; <a href="http://departments.id">departments.id</a></td>
                    <td style="text-align:left"></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>semester</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Current Semester</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>email</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Contact Email</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>phone</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Mobile Number</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>dob</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Date of Birth</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>father_name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Guardian Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>address</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Residential Address</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>profile_image</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Local file path</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Active, Blocked, Alumni, Deleted</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="staff-librarians--assistants"><code>staff</code> (Librarians &amp; Assistants) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">Staff ID / UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Staff Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>email</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Login ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>phone</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Contact Number</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>designation</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Job Title</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>access_permissions</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Array e.g., <code>["ISSUER", "VIEWER"]</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>password_hash</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Bcrypt Hash</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Active, Disabled, Deleted</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>last_login</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Last Session Time</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="admins-superusers"><code>admins</code> (Superusers) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Admin Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>email</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Root Admin Email</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>phone</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Contact Number</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>password_hash</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Bcrypt Hash</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Active, Disabled</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>last_login</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Last Session Time</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="books-catalog-metadata"><code>books</code> (Catalog Metadata) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>isbn</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Identifier (ISBN-13)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>title</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Book Title</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>author</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Author Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>publisher</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Publisher Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>category</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">e.g., "Reference", "Lending"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>dept_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; <a href="http://departments.id">departments.id</a></td>
                    <td style="text-align:left">Owner Department</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>price</strong></td>
                    <td style="text-align:left">REAL</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Asset Value</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>stock_total</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">DEFAULT 0</td>
                    <td style="text-align:left">Computed Total</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>total_copies</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">DEFAULT 0</td>
                    <td style="text-align:left">Computed Copies</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>shelf_location</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Location Code</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>ebook_link</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">URL/Path to PDF</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>cover_image</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Path to cover file</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>cover_image_url</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Legacy Support</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Active, Deleted, Archived</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="book_copies-physical-inventory"><code>book_copies</code> (Physical Inventory) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>accession_number</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Barcode Label ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>book_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; <a href="http://books.id">books.id</a></td>
                    <td style="text-align:left">Reference to Master Record</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>book_isbn</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; books.isbn</td>
                    <td style="text-align:left">Redundant Link for Search</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Available, Issued, Lost, Maintenance</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>location</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Dynamic Location (if diff from master)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h3 id="72-circulation--finance">7.2. Circulation &amp; Finance </h3>
        <h4 id="circulation-active-loans"><code>circulation</code> (Active Loans) </h4>
        <p><em>Tracks books currently out of the library.</em></p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>session_txn_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Group ID for Batch Issues</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; <a href="http://students.id">students.id</a></td>
                    <td style="text-align:left">Borrower</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>copy_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; book_copies.id</td>
                    <td style="text-align:left">Specific Copy</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>issued_by</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Staff ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>issue_date</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>due_date</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>last_renewed_date</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Date of last extension</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>renewal_count</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">DEFAULT 0</td>
                    <td style="text-align:left">Count of extensions</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="transaction_logs-history"><code>transaction_logs</code> (History) </h4>
        <p><em>Decoupled history. Stores SNAPSHOTS of data.</em></p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>session_txn_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Link to Original Session</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>action_type</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISSUE, RETURN, RENEW, LOST</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Reference ID (Nullable)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">Name at time of txn</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_reg_no</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">Roll No at time of txn</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_dept</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">Dept at time of txn</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>copy_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Reference ID (Nullable)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>book_title</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">Title at time of txn</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>book_isbn</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">ISBN at time of txn</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>performed_by</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Staff ID who acted</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>timestamp</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Log Date</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>details</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Remarks, Metadata</td>
                </tr>
            </tbody>
        </table>
        <h4 id="fines-financial-records"><code>fines</code> (Financial Records) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>receipt_number</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Auto-Generated ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>transaction_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">FK -&gt; <a href="http://logs.id">logs.id</a></td>
                    <td style="text-align:left">Link to Loan Event</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Reference ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">Name for Receipt</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>student_reg_no</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">SNAPSHOT</td>
                    <td style="text-align:left">Roll No for Receipt</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>amount</strong></td>
                    <td style="text-align:left">REAL</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Fine Amount</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Unpaid, Paid, Waived</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>is_paid</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">BOOL</td>
                    <td style="text-align:left">1 = Paid</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>payment_date</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Date of Collection</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>collected_by</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Staff ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>remark</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Waiver/Payment Note</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h3 id="73-system-configuration">7.3. System configuration </h3>
        <h4 id="system_settings"><code>system_settings</code> </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>key</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">UNIQUE</td>
                    <td style="text-align:left">Config Key (e.g., <code>circ.fine</code>)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>value</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Config Value</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>category</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Grouping</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>description</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Help Text</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>data_type</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">string, json, number</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>is_user_editable</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">DEFAULT 1</td>
                    <td style="text-align:left">0 = System Protected</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>requires_restart</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">BOOL</td>
                    <td style="text-align:left">1 if restart needed</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_by</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Staff ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="broadcast_logs-communication"><code>broadcast_logs</code> (Communication) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>sender_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Staff who sent it</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>sent_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>subject</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Message Title</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>message_body</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Content</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>target_group</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Students / Staff / Dept</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>recipient_count</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Count of targets</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">Sent / Failed</td>
                </tr>
            </tbody>
        </table>
        <h4 id="password_resets-security"><code>password_resets</code> (Security) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>email</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">User Email</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>otp</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">One Time Password</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>expires_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">NOT NULL</td>
                    <td style="text-align:left">Expiry Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>created_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="email_config-smtp"><code>email_config</code> (SMTP) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>service_status</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">BOOL</td>
                    <td style="text-align:left">1 = Enabled</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>provider</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Gmail / SendGrid / Custom</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>smtp_host</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Server Address</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>smtp_port</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Port (465/587)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>smtp_secure</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left">BOOL</td>
                    <td style="text-align:left">SSL/TLS</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>smtp_user</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Username</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>smtp_pass</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Password/App Key</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>cloud_api_key</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">For API Providers</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>cloud_region</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Region Code</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>from_email</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Sender Address</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>from_name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Sender Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>triggers</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Enabled Alerts</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="policy_config-rules-engine"><code>policy_config</code> (Rules Engine) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>policy_version</strong></td>
                    <td style="text-align:left">INTEGER</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Version Number</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>active_from</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Date Rule is active</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>profiles</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Borrower Limits (Student/Staff)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>financials</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Fine Rates &amp; Penalties</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>holidays</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Calendar Config</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>security</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Security Settings</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>updated_at</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
            </tbody>
        </table>
        <h4 id="audit_logs"><code>audit_logs</code> </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">PRIMARY KEY</td>
                    <td style="text-align:left">UUID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>timestamp</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">DEFAULT NOW</td>
                    <td style="text-align:left">ISO Timestamp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>actor_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">User ID</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>actor_role</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Admin / Staff</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>action_type</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">LOGIN, CREATE, DELETE</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>module</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Affected Area</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>description</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Human Readable Log</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>ip_address</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Client IP</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>metadata</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">JSON</td>
                    <td style="text-align:left">Diff of changes</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>remark</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Optional Note</td>
                </tr>
            </tbody>
        </table>
        <h4 id="sync_queue-cloud-sync"><code>sync_queue</code> (Cloud Sync) </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Column</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Constraints</th>
                    <th style="text-align:left">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>table_name</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Table modified</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>record_id</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">Row affected</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>operation</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left"></td>
                    <td style="text-align:left">INSERT / UPDATE / DELETE</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>status</strong></td>
                    <td style="text-align:left">TEXT</td>
                    <td style="text-align:left">ENUM</td>
                    <td style="text-align:left">pending, synced, failed</td>
                </tr>
            </tbody>
        </table>
        <ul>
            <li><strong>No .env files</strong>: All runtime config is stored here and editable by Admins.</li>
        </ul>
        <hr>
        <h2 id="9-api-reference-specification">9. API Reference Specification </h2>
        <p>The backend exposes a RESTful API running on <code>localhost:PORT</code> (default 5000).<br>
            <strong>Base URL</strong>: <code>http://localhost:5000/api</code><br>
            <strong>Auth Header</strong>: <code>Authorization: Bearer &lt;jwt_token&gt;</code>
        </p>
        <h3 id="91-auth--session-management">9.1. Auth &amp; Session Management </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/auth/login</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Authenticate user (Staff/Admin)</td>
                    <td style="text-align:left"><code>{ "email": "...", "password": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/auth/forgot-password</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Send OTP for reset</td>
                    <td style="text-align:left"><code>{ "email": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/auth/verify-otp</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Verify Reset OTP</td>
                    <td style="text-align:left"><code>{ "email": "...", "otp": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/auth/reset-password</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Set new password</td>
                    <td style="text-align:left"><code>{ "email": "...", "otp": "...", "newPassword": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/auth/change-password</code></td>
                    <td style="text-align:left">User</td>
                    <td style="text-align:left">Change current user pass</td>
                    <td style="text-align:left"><code>{ "oldPassword": "...", "newPassword": "..." }</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="92-book-catalog-module">9.2. Book Catalog Module </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/books</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">List &amp; Search Books</td>
                    <td style="text-align:left"><code>?q=search&amp;page=1&amp;limit=20</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/books/:isbn</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Get Book Details (Master)</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/books</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Create New Book</td>
                    <td style="text-align:left">
                        <code>{ "isbn": "...", "title": "...", "author": "...", "category": "...", "price": 0, "stock_total": 0 }</code>
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>PUT</strong></td>
                    <td style="text-align:left"><code>/books/:isbn</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Update Book Metadata</td>
                    <td style="text-align:left">
                        <code>{ "title": "...", "shelf_location": "...", "status": "Active" }</code>
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>DELETE</strong></td>
                    <td style="text-align:left"><code>/books/:isbn</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Delete Book Master</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/books/:isbn/add-copies</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Add Physical Copies</td>
                    <td style="text-align:left"><code>{ "count": 5 }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>PUT</strong></td>
                    <td style="text-align:left"><code>/books/copy/:id</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Update Copy Status</td>
                    <td style="text-align:left"><code>{ "status": "Lost/Maintenance" }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>DELETE</strong></td>
                    <td style="text-align:left"><code>/books/copy/:id</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Remove Specific Copy</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/books/bulk</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Bulk Upload CSV/Excel</td>
                    <td style="text-align:left"><code>FormData: { "file": &lt;binary&gt; }</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="93-student--borrower-management">9.3. Student &amp; Borrower Management </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/students</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">List Students</td>
                    <td style="text-align:left"><code>?dept=CS&amp;status=Active&amp;page=1</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/students/defaulters</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">List Overdue Users</td>
                    <td style="text-align:left"><code>?days_overdue=7</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/students/:id</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Get Student Profile</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Register Student</td>
                    <td style="text-align:left">
                        <code>{ "register_number": "...", "name": "...", "dept_id": "...", "email": "..." }</code>
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>PUT</strong></td>
                    <td style="text-align:left"><code>/students/:id</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Update Profile</td>
                    <td style="text-align:left"><code>{ "phone": "...", "address": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>DELETE</strong></td>
                    <td style="text-align:left"><code>/students/:id</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Delete Account</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students/promote</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Batch Promote Sem</td>
                    <td style="text-align:left"><code>{ "dept": "CS", "from_sem": "3", "to_sem": "5" }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students/promotion-scan</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Scan for Promote</td>
                    <td style="text-align:left"><code>{ "dept": "CS" }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students/bulk-import</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Import Students</td>
                    <td style="text-align:left"><code>FormData: { "file": &lt;binary&gt; }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students/bulk-delete</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Delete Multiple</td>
                    <td style="text-align:left"><code>{ "ids": ["uuid1", "uuid2"] }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students/export</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Export List to Excel</td>
                    <td style="text-align:left"><code>?format=xlsx</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/students/photo/upload</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Upload Profile Pic</td>
                    <td style="text-align:left"><code>FormData: { "id": "...", "photo": &lt;binary&gt; }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/students/photo/stats</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Photo Compliance</td>
                    <td style="text-align:left">-</td>
                </tr>
            </tbody>
        </table>
        <h3 id="94-circulation-issue--return">9.4. Circulation (Issue / Return) </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/circulation/validate-borrower/:id</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Check Eligibility</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/circulation/issue</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Issue Book</td>
                    <td style="text-align:left"><code>{ "student_id": "...", "copy_id": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/circulation/return</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Return Book</td>
                    <td style="text-align:left"><code>{ "copy_id": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/circulation/renew</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Renew Loan</td>
                    <td style="text-align:left"><code>{ "loan_id": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/circulation/history</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Transaction Logs</td>
                    <td style="text-align:left"><code>?start_date=...&amp;end_date=...</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/circulation/loans/:studentId</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Active Loans (User)</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/circulation/holders/:isbn</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Who has this book?</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/circulation/next-accession/:isbn</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Suggest Barcode</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/circulation/policy-defaults</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Get Return Rules</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/circulation/resolve-scan</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Identify Barcode</td>
                    <td style="text-align:left"><code>{ "barcode": "..." }</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="95-financials--fine-management">9.5. Financials &amp; Fine Management </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/fines</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Global Fine Search</td>
                    <td style="text-align:left"><code>?status=Unpaid</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/fines/student/:studentId</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">User Fines</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/fines/receipt/:receiptId</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Get Receipt ID</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/fines/collect</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Collect Payment</td>
                    <td style="text-align:left"><code>{ "fine_ids": ["..."], "amount": 100, "mode": "Cash" }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/fines/waive</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Waive Fine</td>
                    <td style="text-align:left"><code>{ "fine_id": "...", "reason": "Medical" }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/fines/update</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Correct Amount</td>
                    <td style="text-align:left"><code>{ "fine_id": "...", "new_amount": 50 }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/fines/resend-receipt</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Email Receipt</td>
                    <td style="text-align:left"><code>{ "receipt_number": "..." }</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="96-system-configuration--settings">9.6. System Configuration &amp; Settings </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/settings/app</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Get All Configs</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>PUT</strong></td>
                    <td style="text-align:left"><code>/settings/app</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Update Config</td>
                    <td style="text-align:left"><code>{ "settings": [{ "key": "circ.limit", "value": 3 }] }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/settings/change-password</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Force Pass Change</td>
                    <td style="text-align:left"><code>{ "userId": "...", "newPass": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/settings/factory-reset</code></td>
                    <td style="text-align:left">Root</td>
                    <td style="text-align:left">Wipe Database</td>
                    <td style="text-align:left"><code>{ "confirm": true, "password": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/settings/backup/create</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Trigger Local Backup</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/settings/cloud/backup</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Push to Cloud</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/settings/cloud/restore</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Pull from Cloud</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/settings/test-email</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Validate SMTP</td>
                    <td style="text-align:left"><code>{ "to": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/settings/principal-signature</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Get HOD Sig</td>
                    <td style="text-align:left">-</td>
                </tr>
            </tbody>
        </table>
        <h3 id="97-administrative-operations">9.7. Administrative Operations </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/admin</code></td>
                    <td style="text-align:left">Root</td>
                    <td style="text-align:left">List Admins</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/admin</code></td>
                    <td style="text-align:left">Root</td>
                    <td style="text-align:left">Create Admin</td>
                    <td style="text-align:left"><code>{ "name": "...", "email": "...", "password": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/admin/broadcast</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Send System Msg</td>
                    <td style="text-align:left"><code>{ "target": "students", "message": "..." }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/admin/broadcast/history</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">View Sent Msgs</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/audit</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">View Audit Logs</td>
                    <td style="text-align:left"><code>?module=AUTH</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/audit/stats</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Log Statistics</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/health</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Ping Backend</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/health/connectivity</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Check Internet</td>
                    <td style="text-align:left">-</td>
                </tr>
            </tbody>
        </table>
        <h3 id="98-policy--departments">9.8. Policy &amp; Departments </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/policy</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">Get Rules</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>PUT</strong></td>
                    <td style="text-align:left"><code>/policy</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Update Rules</td>
                    <td style="text-align:left"><code>{ "student_limit": 5, "fine_per_day": 10 }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/departments</code></td>
                    <td style="text-align:left">Public</td>
                    <td style="text-align:left">List Departments</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>POST</strong></td>
                    <td style="text-align:left"><code>/departments</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Add Department</td>
                    <td style="text-align:left"><code>{ "code": "CS", "name": "Computer Sci" }</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>DELETE</strong></td>
                    <td style="text-align:left"><code>/departments/:id</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Remove Dept</td>
                    <td style="text-align:left">-</td>
                </tr>
            </tbody>
        </table>
        <h3 id="99-analytics--reporting">9.9. Analytics &amp; Reporting </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Method</th>
                    <th style="text-align:left">Endpoint</th>
                    <th style="text-align:left">Access</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Request Body / Query</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/dashboard/stats</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">KPI Cards</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/dashboard/charts</code></td>
                    <td style="text-align:left">Staff</td>
                    <td style="text-align:left">Graph Data</td>
                    <td style="text-align:left">-</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/reports/circulation</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Issue/Return Rpt</td>
                    <td style="text-align:left"><code>?start=...&amp;end=...</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/reports/financial</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Revenue Rpt</td>
                    <td style="text-align:left"><code>?start=...&amp;end=...</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>GET</strong></td>
                    <td style="text-align:left"><code>/reports/inventory</code></td>
                    <td style="text-align:left">Admin</td>
                    <td style="text-align:left">Stock Rpt</td>
                    <td style="text-align:left">-</td>
                </tr>
            </tbody>
        </table>
        <hr>
        <h2 id="10-electron-main-process-details">10. Electron Main Process Details </h2>
        <p><strong>File:</strong> <code>electron/main.js</code></p>
        <ol>
            <li><strong>Backend Injection</strong>:
                <ul>
                    <li>Starts the Express server (<code>backend/server.js</code>) as a direct dependency.</li>
                    <li>Injects <code>USER_DATA_PATH</code> so the backend knows where to find the database file,
                        ensuring portability.</li>
                </ul>
            </li>
            <li><strong>Window Management</strong>:
                <ul>
                    <li>Creates a 1200x800 (default) frameless window.</li>
                    <li>Restores previous window state (maximized, position) from <code>window-state.json</code>.</li>
                </ul>
            </li>
            <li><strong>IPC Channels</strong>:
                <ul>
                    <li><code>window-minimize</code>, <code>window-maximize</code>, <code>window-close</code>: Handle
                        custom title bar actions.</li>
                    <li><code>shutdown</code>: Listens for backend signals to close the app gracefully.</li>
                </ul>
            </li>
        </ol>
        <hr>
        <h2 id="11-security-implementation">11. Security Implementation </h2>
        <ol>
            <li><strong>Authentication</strong>:
                <ul>
                    <li>JWT (JSON Web Token) based stateless auth.</li>
                    <li>Tokens are stored in the client and sent via <code>Authorization: Bearer</code> headers.</li>
                </ul>
            </li>
            <li><strong>Role-Based Access Control (RBAC)</strong>:
                <ul>
                    <li><strong>Admins</strong>: Full access to Settings, Policy, and Staff Management.</li>
                    <li><strong>Staff</strong>: Access determined by <code>access_permissions</code> JSON in DB (e.g.,
                        can issue books but not delete them).</li>
                </ul>
            </li>
            <li><strong>Data Safety</strong>:
                <ul>
                    <li><code>requires_restart</code> flag in <code>system_settings</code> ensures critical config
                        changes (like Port or DB Path) are applied safely.</li>
                    <li>Automated "Smart Backups" isolate data before risky operations.</li>
                </ul>
            </li>
        </ol>
        <hr>
        <hr>
        <h2 id="12-logic-flow--data-maps-detailed">12. Logic Flow &amp; Data Maps (Detailed) </h2>
        <p>This section details the technical lifecycle of data, including exact <strong>JSON Payloads</strong>,
            <strong>Database Operations</strong>, and <strong>Visual Diagrams</strong>.
        </p>
        <h3 id="110-grand-unified-data-flow-system-logic-map">11.0. Grand Unified Data Flow (System Logic Map) </h3>
        <p>This diagram illustrates how all functional modules interconnect and impact the shared database state.</p>
        <div class="mermaid">graph TD
            %% Nodes
            Guest((Guest))
            User((Staff/Admin))
            Login[Login Page]
            Dash[Dashboard Hub]

            subgraph "Core Functionality"
            Circ[Circulation Module]
            Cat[Catalog Module]
            Ppl[Student/Staff Mgmt]
            Fin[Fines &amp; Payments]
            end

            subgraph "System Services"
            Logs[Audit &amp; History]
            Conf[Settings &amp; Policy]
            Rep[Reports Engine]
            Sync[Cloud Backup]
            end

            %% Database Entities impacted
            DB_B[(Books)]
            DB_S[(Students)]
            DB_C[(Circulation)]
            DB_T[(Transactions)]

            %% Flows
            Guest --&gt; Login
            User --&gt; Login
            Login --&gt;|Auth Token| Dash

            Dash --&gt;|Route| Circ
            Dash --&gt;|Route| Cat
            Dash --&gt;|Route| Ppl
            Dash --&gt;|Route| Fin
            Dash --&gt;|Route| Conf

            %% Circulation Impacts
            Circ --&gt;|Issue/Return| DB_C
            Circ --&gt;|Update Status| DB_B
            Circ --&gt;|Block/Unblock| DB_S
            Circ --&gt;|Log Action| DB_T

            %% Catalog Impacts
            Cat --&gt;|Import/Add| DB_B

            %% People Impacts
            Ppl --&gt;|Register| DB_S

            %% Finance Impacts
            Fin --&gt;|Pay| DB_S
            Fin --&gt;|Revenue| DB_T

            %% Services
            Conf --&gt;|Rules| Circ
            Conf --&gt;|Rules| Fin
            Logs -.-&gt;|Read| DB_T
            Rep -.-&gt;|Aggregate| DB_T
            Sync -.-&gt;|Watch| DB_C
        </div>
        <h3 id="111-authentication-flow-login-page">11.1. Authentication Flow (Login Page) </h3>
        <p><strong>Route</strong>: <code>/login</code></p>
        <ol>
            <li><strong>Request</strong> (<code>POST /api/auth/login</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"veerkotresh@gmail.com"</span><span class="token punctuation">,</span>
  <span class="token property">"password"</span><span class="token operator">:</span> <span class="token string">"password123"</span> <span class="token comment">// Plaintext</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Backend Logic</strong> (<code>authController.js</code>):
                <ul>
                    <li><strong>Query</strong>: <code>SELECT * FROM admins WHERE email = ?</code> (Falls back to
                        <code>staff</code> if not found).
                    </li>
                    <li><strong>Crypto</strong>: <code>bcrypt.compare(password, user.password_hash)</code>.</li>
                    <li><strong>Status Check</strong>: Rejects if <code>status === 'Disabled'</code>.</li>
                </ul>
            </li>
            <li><strong>Response</strong> (<code>200 OK</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"token"</span><span class="token operator">:</span> <span class="token string">"eyJhbGciOiJIUzI1..."</span><span class="token punctuation">,</span> <span class="token comment">// JWT (Payload: { id, role, email })</span>
  <span class="token property">"user"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"admin-seed-123"</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"System Admin"</span><span class="token punctuation">,</span>
    <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"veerkotresh@gmail.com"</span><span class="token punctuation">,</span>
    <span class="token property">"role"</span><span class="token operator">:</span> <span class="token string">"admin"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-login">Visual Flow (Login) </h4>
        <div class="mermaid">sequenceDiagram
            participant U as User
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database

            U-&gt;&gt;FE: Enters Creds
            FE-&gt;&gt;BE: POST /api/auth/login
            BE-&gt;&gt;DB: SELECT * FROM staff/admins
            DB--&gt;&gt;BE: Return User Hash
            BE-&gt;&gt;BE: bcrypt.compare()
            BE--&gt;&gt;FE: 200 OK (JWT Token)
            FE-&gt;&gt;U: Redirect to Dashboard
        </div>
        <h3 id="112-circulation-issue-transaction">11.2. Circulation: Issue Transaction </h3>
        <p><strong>Route</strong>: <code>/dashboard/circulation</code> (F1 Tab)</p>
        <ol>
            <li><strong>Validation Request</strong> (<code>GET /api/circulation/validate-borrower/:id</code>):
                <ul>
                    <li><strong>Backend</strong>: Calculates <code>unpaid_fines + (overdue_books * daily_rate)</code>.
                    </li>
                    <li><strong>Response</strong>:
                        <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"valid"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// or false</span>
  <span class="token property">"liability"</span><span class="token operator">:</span> <span class="token number">450.00</span><span class="token punctuation">,</span>
  <span class="token property">"limit"</span><span class="token operator">:</span> <span class="token number">500.00</span><span class="token punctuation">,</span>
  <span class="token property">"alert_msg"</span><span class="token operator">:</span> <span class="token null keyword">null</span>
<span class="token punctuation">}</span>
</code></pre>
                    </li>
                </ul>
            </li>
            <li><strong>Commit Issue</strong> (<code>POST /api/circulation/issue</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"student_id"</span><span class="token operator">:</span> <span class="token string">"uuid-student-001"</span><span class="token punctuation">,</span>
  <span class="token property">"books"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">"copy_id"</span><span class="token operator">:</span> <span class="token string">"uuid-copy-A"</span><span class="token punctuation">,</span> <span class="token property">"isbn"</span><span class="token operator">:</span> <span class="token string">"978-3-16"</span><span class="token punctuation">,</span> <span class="token property">"accession"</span><span class="token operator">:</span> <span class="token string">"978-001"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">"copy_id"</span><span class="token operator">:</span> <span class="token string">"uuid-copy-B"</span><span class="token punctuation">,</span> <span class="token property">"isbn"</span><span class="token operator">:</span> <span class="token string">"978-1-44"</span><span class="token punctuation">,</span> <span class="token property">"accession"</span><span class="token operator">:</span> <span class="token string">"978-002"</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Backend Transaction</strong>:
                <ul>
                    <li><strong>Batch Insert</strong>: Creates <code>circulation</code> rows for each book.</li>
                    <li><strong>Update</strong>: Sets <code>book_copies.status = 'Issued'</code>.</li>
                    <li><strong>Audit</strong>: Inserts <code>transaction_logs</code> with
                        <code>action_type: 'ISSUE'</code>.
                    </li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-issue">Visual Flow (Issue) </h4>
        <div class="mermaid">sequenceDiagram
            participant S as Student
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database

            FE-&gt;&gt;BE: GET /validate-borrower/:id
            BE-&gt;&gt;DB: Check Fines &amp; Overdue
            DB--&gt;&gt;BE: Total Liability
            BE--&gt;&gt;FE: Valid / Blocked

            FE-&gt;&gt;BE: POST /issue (Batch)
            Note over BE, DB: Atomic Transaction
            BE-&gt;&gt;DB: INSERT circulation
            BE-&gt;&gt;DB: UPDATE book_copies (Issued)
            BE-&gt;&gt;DB: INSERT transaction_logs
            BE--&gt;&gt;FE: Success + Receipt ID
        </div>
        <h3 id="113-circulation-return--fines">11.3. Circulation: Return &amp; Fines </h3>
        <p><strong>Route</strong>: <code>/dashboard/circulation</code> (F2 Tab)</p>
        <ol>
            <li><strong>Return Request</strong> (<code>POST /api/circulation/return</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"loan_id"</span><span class="token operator">:</span> <span class="token string">"uuid-loan-123"</span><span class="token punctuation">,</span>
  <span class="token property">"return_date"</span><span class="token operator">:</span> <span class="token string">"2026-01-28"</span><span class="token punctuation">,</span> <span class="token comment">// ISO Date</span>
  <span class="token property">"condition"</span><span class="token operator">:</span> <span class="token string">"Damaged"</span><span class="token punctuation">,</span> <span class="token comment">// Good / Damaged / Lost</span>
  <span class="token property">"remarks"</span><span class="token operator">:</span> <span class="token string">"Cover torn"</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Logic</strong>:
                <ul>
                    <li><strong>Overdue Calc</strong>: <code>DateDiff(return_date, due_date) * fine_per_day</code>.</li>
                    <li><strong>Damage Calc</strong>: Reads <code>policy_financial.damagedFineAmount</code> (e.g.,
                        100).</li>
                </ul>
            </li>
            <li><strong>Data Persistence</strong>:
                <ul>
                    <li><strong>Delete</strong>: Removes row from <code>circulation</code>.</li>
                    <li><strong>Insert Fine</strong>:
                        <pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token keyword keyword-INSERT">INSERT</span> <span class="token keyword keyword-INTO">INTO</span> fines <span class="token punctuation">(</span>amount<span class="token punctuation">,</span> <span class="token keyword keyword-status">status</span><span class="token punctuation">,</span> <span class="token keyword keyword-type">type</span><span class="token punctuation">)</span> <span class="token keyword keyword-VALUES">VALUES</span> <span class="token punctuation">(</span><span class="token number">150.0</span><span class="token punctuation">,</span> <span class="token string">'Unpaid'</span><span class="token punctuation">,</span> <span class="token string">'DAMAGE_OVERDUE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                    </li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-return">Visual Flow (Return) </h4>
        <div class="mermaid">sequenceDiagram
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database

            FE-&gt;&gt;BE: POST /return (Loan ID)
            BE-&gt;&gt;BE: Calculate Days Overdue

            alt is Overdue OR Damaged
            BE-&gt;&gt;DB: INSERT INTO fines
            end

            BE-&gt;&gt;DB: DELETE FROM circulation
            BE-&gt;&gt;DB: UPDATE book_copies (Available)
            BE-&gt;&gt;DB: INSERT transaction_logs
            BE--&gt;&gt;FE: Success (Fine Generated)
        </div>
        <h3 id="124-catalog-add-new-book">12.4. Catalog: Add New Book </h3>
        <p><strong>Route</strong>: <code>/dashboard/books</code> -&gt; "Add Book"</p>
        <ol>
            <li><strong>Payload</strong> (<code>POST /api/books</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"isbn"</span><span class="token operator">:</span> <span class="token string">"9781234567890"</span><span class="token punctuation">,</span>
  <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Clean Code"</span><span class="token punctuation">,</span>
  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"Robert C. Martin"</span><span class="token punctuation">,</span>
  <span class="token property">"dept_id"</span><span class="token operator">:</span> <span class="token string">"uuid-dept-cs"</span><span class="token punctuation">,</span> <span class="token comment">// or "Computer Science" (Legacy fallback)</span>
  <span class="token property">"category"</span><span class="token operator">:</span> <span class="token string">"Reference"</span><span class="token punctuation">,</span>
  <span class="token property">"price"</span><span class="token operator">:</span> <span class="token number">4500.00</span><span class="token punctuation">,</span>
  <span class="token property">"total_copies"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// Auto-generates 5 physical copies</span>
  <span class="token property">"shelf_location"</span><span class="token operator">:</span> <span class="token string">"R1-S2"</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Backend Lifecycle</strong>:
                <ul>
                    <li><strong>Master</strong>: Inserts into <code>books</code> table.</li>
                    <li><strong>Inventory</strong>: Generates 5 <code>book_copies</code> rows with auto-incremented
                        <code>accession_number</code> (e.g., 978123-001 to 005).
                    </li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-add-book">Visual Flow (Add Book) </h4>
        <div class="mermaid">sequenceDiagram
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database

            FE-&gt;&gt;BE: POST /books (Total Copies: 5)
            BE-&gt;&gt;DB: INSERT INTO books

            loop 5 Times
            BE-&gt;&gt;BE: Generate Accession (ISBN-00X)
            BE-&gt;&gt;DB: INSERT INTO book_copies
            end

            BE--&gt;&gt;FE: Book Created
        </div>
        <h3 id="125-students-registration">12.5. Students: Registration </h3>
        <p><strong>Route</strong>: <code>/dashboard/students</code></p>
        <ol>
            <li><strong>Payload</strong> (<code>POST /api/students</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"full_name"</span><span class="token operator">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
  <span class="token property">"register_number"</span><span class="token operator">:</span> <span class="token string">"USN-001"</span><span class="token punctuation">,</span> <span class="token comment">// UNIQUE check</span>
  <span class="token property">"dept_id"</span><span class="token operator">:</span> <span class="token string">"uuid-dept-civil"</span><span class="token punctuation">,</span>
  <span class="token property">"semester"</span><span class="token operator">:</span> <span class="token string">"3"</span><span class="token punctuation">,</span>
  <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"john@college.edu"</span><span class="token punctuation">,</span>
  <span class="token property">"phone"</span><span class="token operator">:</span> <span class="token string">"9876543210"</span><span class="token punctuation">,</span>
  <span class="token property">"dob"</span><span class="token operator">:</span> <span class="token string">"2005-08-15"</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-student-reg">Visual Flow (Student Reg) </h4>
        <div class="mermaid">sequenceDiagram
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database

            FE-&gt;&gt;BE: POST /students
            BE-&gt;&gt;DB: CHECK EXISTS (RegNo / Email)

            alt Exists
            DB--&gt;&gt;BE: Found
            BE--&gt;&gt;FE: Error 409 (Duplicate)
            else New
            BE-&gt;&gt;DB: INSERT INTO students
            BE--&gt;&gt;FE: Success
            end
        </div>
        <h3 id="126-dashboard-initialization">12.6. Dashboard: Initialization </h3>
        <p><strong>Route</strong>: <code>/dashboard</code></p>
        <ol>
            <li><strong>Parallel Load</strong>:
                <ul>
                    <li><code>GET /api/dashboard/kpi</code> -&gt; Returns
                        <code>{ books: 1200, students: 450, issued: 45 }</code>.
                    </li>
                    <li><code>GET /api/dashboard/activity</code> -&gt; Returns
                        <code>[{ action: "ISSUE", details: "...", time: "10:30 AM" }]</code>.
                    </li>
                </ul>
            </li>
            <li><strong>Socket Event</strong> (<code>dashboard_update</code>):
                <ul>
                    <li>Backend emits JSON diff when any user issues/returns a book.</li>
                    <li>Frontend merges diff into state (Live Counter update).</li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-dashboard">Visual Flow (Dashboard) </h4>
        <div class="mermaid">sequenceDiagram
            participant UI as Dashboard UI
            participant BE as Backend
            participant SOC as Socket.io

            UI-&gt;&gt;BE: Promise.all([KPI, Activity, Chart])
            BE--&gt;&gt;UI: Return Data JSON

            Note over BE, UI: Real-Time Updates
            BE-&gt;&gt;SOC: emit('dashboard_update')
            SOC--&gt;&gt;UI: Update Active Counts
        </div>
        <h3 id="127-staff-rbac-configuration">12.7. Staff: RBAC Configuration </h3>
        <p><strong>Route</strong>: <code>/dashboard/staff</code></p>
        <ol>
            <li><strong>Create Payload</strong> (<code>POST /api/staff</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Librarian A"</span><span class="token punctuation">,</span>
  <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"lib@gptk.bed"</span><span class="token punctuation">,</span>
  <span class="token property">"permissions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"CIRCULATION"</span><span class="token punctuation">,</span> <span class="token string">"MEMBERS"</span><span class="token punctuation">,</span> <span class="token string">"CATALOG"</span><span class="token punctuation">]</span> <span class="token comment">// JSON Array</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>DB Storage</strong>:
                <ul>
                    <li>Permissions stored as serialized JSON string:
                        <code>'["CIRCULATION", "MEMBERS", "CATALOG"]'</code>.
                    </li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-staff-rbac">Visual Flow (Staff RBAC) </h4>
        <div class="mermaid">sequenceDiagram
            participant A as Admin
            participant BE as Backend
            participant DB as Database

            A-&gt;&gt;BE: POST /staff (Permissions Array)
            BE-&gt;&gt;BE: JSON.stringify(permissions)
            BE-&gt;&gt;BE: bcrypt.hash(default_password)
            BE-&gt;&gt;DB: INSERT INTO staff
            BE--&gt;&gt;A: Created
        </div>
        <h3 id="128-smart-backup-background-service">12.8. Smart Backup (Background Service) </h3>
        <p><strong>Service</strong>: <code>cloudBackupService.js</code></p>
        <ol>
            <li><strong>Trigger</strong>: <code>changeDetection</code> service marks table <code>circulation</code> as
                Dirty.</li>
            <li><strong>Sync Payload</strong> (Sent to MongoDB):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"table"</span><span class="token operator">:</span> <span class="token string">"circulation"</span><span class="token punctuation">,</span>
  <span class="token property">"rows"</span><span class="token operator">:</span> <span class="token punctuation">[</span> ... <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Full table dump or Delta</span>
  <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token number">1740000000</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-smart-backup">Visual Flow (Smart Backup) </h4>
        <div class="mermaid">graph LR
            BE[Backend Write] --&gt;|Hook| CD[Change Detection]
            CD --&gt;|Mark Dirty| MEM[Memory Set]
            MEM --&gt;|Cron/Click| SYNC[Backup Service]
            SYNC --&gt;|Fetch Rows| DB[(SQLite)]
            SYNC --&gt;|JSON Upload| BKT[(MongoDB Atlas)]
        </div>
        <h3 id="129-fine-collection-payment">12.9. Fine Collection (Payment) </h3>
        <p><strong>Route</strong>: <code>/dashboard/fines</code></p>
        <ol>
            <li><strong>Pay Request</strong> (<code>POST /api/fines/pay</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"fine_ids"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"uuid-fine-1"</span><span class="token punctuation">,</span> <span class="token string">"uuid-fine-2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"payment_mode"</span><span class="token operator">:</span> <span class="token string">"Cash"</span><span class="token punctuation">,</span>
  <span class="token property">"remarks"</span><span class="token operator">:</span> <span class="token string">"Paid at counter"</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Response</strong>:
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"success"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"receipt_no"</span><span class="token operator">:</span> <span class="token string">"REC-2026-8871"</span><span class="token punctuation">,</span>
  <span class="token property">"total_paid"</span><span class="token operator">:</span> <span class="token number">50.00</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-payment">Visual Flow (Payment) </h4>
        <div class="mermaid">sequenceDiagram
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database
            participant MAIL as Email Service

            FE-&gt;&gt;BE: POST /pay (Fine IDs)
            BE-&gt;&gt;DB: UPDATE fines SET status='Paid'
            BE-&gt;&gt;DB: INSERT transaction_logs (FINE_PAID)
            BE-&gt;&gt;MAIL: Send Receipt PDF
            BE--&gt;&gt;FE: Success + Receipt No
        </div>
        <h3 id="1210-reports-generator">12.10. Reports: Generator </h3>
        <p><strong>Route</strong>: <code>/dashboard/reports</code></p>
        <ol>
            <li><strong>Query Params</strong>: <code>GET /api/reports/txn?start=2026-01-01&amp;end=2026-01-31</code>
            </li>
            <li><strong>Response</strong> (Array of Objects):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2026-01-05"</span><span class="token punctuation">,</span> <span class="token property">"issued"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token property">"returned"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token property">"fines_collected"</span><span class="token operator">:</span> <span class="token number">120.0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">"date"</span><span class="token operator">:</span> <span class="token string">"2026-01-06"</span><span class="token punctuation">,</span> <span class="token property">"issued"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token property">"returned"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token property">"fines_collected"</span><span class="token operator">:</span> <span class="token number">50.0</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-reports">Visual Flow (Reports) </h4>
        <div class="mermaid">sequenceDiagram
            participant FE as Frontend
            participant BE as Backend
            participant DB as Database

            FE-&gt;&gt;BE: GET /reports (Date Range)
            BE-&gt;&gt;DB: SELECT ... GROUP BY date
            DB--&gt;&gt;BE: Aggregated Data
            BE--&gt;&gt;FE: JSON Data

            opt Export PDF
            FE-&gt;&gt;FE: jsPDF.generate()
            end
        </div>
        <h3 id="1211-settings-configuration">12.11. Settings Configuration </h3>
        <p><strong>Route</strong>: <code>/dashboard/settings</code></p>
        <ol>
            <li><strong>Update Payload</strong> (<code>POST /api/settings</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"app.header_title"</span><span class="token punctuation">,</span> <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"My Library"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">"key"</span><span class="token operator">:</span> <span class="token string">"server.port"</span><span class="token punctuation">,</span> <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"3002"</span> <span class="token punctuation">}</span> <span class="token comment">// requires_restart: true</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Effect</strong>:
                <ul>
                    <li><strong>DB</strong>: Updates <code>system_settings</code> table.</li>
                    <li><strong>Response</strong>: <code>{ "success": true, "restart_required": true }</code> if
                        Port/Path changed.</li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-settings">Visual Flow (Settings) </h4>
        <div class="mermaid">sequenceDiagram
            participant A as Admin
            participant BE as Backend
            participant DB as Database

            A-&gt;&gt;BE: POST /settings (Bulk)
            BE-&gt;&gt;DB: UPSERT system_settings
            BE-&gt;&gt;BE: Check 'requires_restart' flag
            BE--&gt;&gt;A: Success (Restart Needed?)
        </div>
        <h3 id="1212-broadcast-bulk-email">12.12. Broadcast: Bulk Email </h3>
        <p><strong>Route</strong>: <code>/dashboard/notifications</code></p>
        <ol>
            <li><strong>Send Request</strong> (<code>POST /api/notifications/send</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"target_group"</span><span class="token operator">:</span> <span class="token string">"OVERDUE_STUDENTS"</span><span class="token punctuation">,</span>
  <span class="token property">"subject"</span><span class="token operator">:</span> <span class="token string">"Return Reminder"</span><span class="token punctuation">,</span>
  <span class="token property">"body"</span><span class="token operator">:</span> <span class="token string">"&lt;p&gt;Please return books by Monday.&lt;/p&gt;"</span><span class="token punctuation">,</span> <span class="token comment">// HTML</span>
  <span class="token property">"force_send"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Backend Job</strong>:
                <ul>
                    <li><strong>Query</strong>:
                        <code>SELECT email FROM students WHERE id IN (SELECT student_id FROM circulation)</code>.
                    </li>
                    <li><strong>Queue</strong>: Adds 50 emails to <code>nodemailer</code>.</li>
                    <li><strong>Log</strong>: Inserts <code>broadcast_logs</code> (Status: 'Processing').</li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-broadcast">Visual Flow (Broadcast) </h4>
        <div class="mermaid">sequenceDiagram
            participant A as Admin
            participant BE as Backend
            participant DB as Database
            participant SMTP as Email Provider

            A-&gt;&gt;BE: POST /send (Target: Overdue)
            BE-&gt;&gt;DB: SELECT emails FROM Overdue Students
            BE-&gt;&gt;SMTP: Queue Emails
            BE-&gt;&gt;DB: INSERT broadcast_logs
            BE--&gt;&gt;A: Job Started
        </div>
        <h3 id="1213-password-recovery-3-step">12.13. Password Recovery (3-Step) </h3>
        <p><strong>Route</strong>: <code>/forgot-password</code></p>
        <ol>
            <li><strong>Request OTP</strong> (<code>POST /api/auth/forgot-password</code>):
                <ul>
                    <li><strong>Input</strong>: <code>{ "email": "staff@college.edu" }</code></li>
                    <li><strong>DB</strong>: Inserts <code>{ email, otp: "123456", expires_at: "..." }</code> into
                        <code>password_resets</code>.
                    </li>
                </ul>
            </li>
            <li><strong>Verify OTP</strong> (<code>POST /api/auth/verify-otp</code>):
                <ul>
                    <li><strong>Input</strong>: <code>{ "email": "...", "otp": "123456" }</code></li>
                    <li><strong>Response</strong>: <code>{ "valid": true, "temp_token": "zx99..." }</code> (Used for
                        step 3).</li>
                </ul>
            </li>
            <li><strong>Reset</strong> (<code>POST /api/auth/reset-password</code>):
                <ul>
                    <li><strong>Input</strong>: <code>{ "new_password": "...", "temp_token": "..." }</code></li>
                    <li><strong>Action</strong>: Hashes new password -&gt; Updates Staff DB.</li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-password-reset">Visual Flow (Password Reset) </h4>
        <div class="mermaid">sequenceDiagram
            participant User
            participant BE as Backend
            participant DB as Database
            participant Email

            User-&gt;&gt;BE: Forgot Password (Email)
            BE-&gt;&gt;DB: Create OTP
            BE-&gt;&gt;Email: Send Code

            User-&gt;&gt;BE: Verify OTP
            BE-&gt;&gt;DB: Check Valid &amp; Not Expired
            BE--&gt;&gt;User: Temp Token

            User-&gt;&gt;BE: Reset (New Pass + Token)
            BE-&gt;&gt;DB: Update Hash
            BE--&gt;&gt;User: Success
        </div>
        <h3 id="1214-system-health-diagnostics">12.14. System Health Diagnostics </h3>
        <p><strong>Route</strong>: <code>/dashboard/health</code></p>
        <ol>
            <li><strong>Response</strong> (<code>GET /api/health</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"os"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"cpu_load"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token property">"freemem"</span><span class="token operator">:</span> <span class="token number">4096</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// % and MB</span>
  <span class="token property">"db"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"connected"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token property">"latency_ms"</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"network"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"internet"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token property">"ping_ms"</span><span class="token operator">:</span> <span class="token number">45</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"storage"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"used_percent"</span><span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"D:/AppData"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"score"</span><span class="token operator">:</span> <span class="token number">98</span> <span class="token comment">// Computed 0-100</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-health">Visual Flow (Health) </h4>
        <div class="mermaid">graph LR
            Tick[Poll 5s] --&gt; FE[Frontend]
            FE --&gt; API[GET /health]
            API --&gt;|Ping| Net{Internet}
            API --&gt;|Select 1| DB{SQLite}
            API --&gt;|Stats| DS{Disk}
            API --&gt;|Comp| SC[Score Calc]
            SC --&gt; FE
        </div>
        <h3 id="1215-departments-signature-upload">12.15. Departments: Signature Upload </h3>
        <p><strong>Route</strong>: <code>/dashboard/departments</code></p>
        <ol>
            <li><strong>Upload</strong> (<code>POST /api/departments</code>):
                <ul>
                    <li><strong>Headers</strong>: <code>Content-Type: multipart/form-data</code></li>
                    <li><strong>Form Data</strong>: <code>name="Civil", code="CV", signature=[File Blob]</code></li>
                </ul>
            </li>
            <li><strong>Storage</strong>:
                <ul>
                    <li><strong>File</strong>: Saves image to <code>UserData/Uploads/signatures/sig-cv.png</code>.</li>
                    <li><strong>DB</strong>: Stores path <code>uploads/signatures/sig-cv.png</code> in
                        <code>hod_signature</code> column.
                    </li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-signature">Visual Flow (Signature) </h4>
        <div class="mermaid">sequenceDiagram
            participant A as Admin
            participant BE as Backend
            participant FS as FileSystem
            participant DB as Database

            A-&gt;&gt;BE: Upload Form (Image)
            BE-&gt;&gt;FS: Write Stream (sig.png)
            BE-&gt;&gt;DB: INSERT department (path/to/sig)
            BE--&gt;&gt;A: Saved
        </div>
        <h3 id="1216-policy-security-gate">12.16. Policy Security Gate </h3>
        <p><strong>Route</strong>: <code>/dashboard/policy</code></p>
        <ol>
            <li><strong>Verification</strong> (<code>POST /api/auth/verify-password</code>):
                <ul>
                    <li><strong>Input</strong>: <code>{ "password": "entered_admin_pass" }</code></li>
                    <li><strong>Response</strong>: <code>{ "verified": true }</code> (Allows frontend to unlock "Save"
                        button).</li>
                </ul>
            </li>
            <li><strong>Save Policy</strong> (<code>POST /api/policy</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"category"</span><span class="token operator">:</span> <span class="token string">"policy_financial"</span><span class="token punctuation">,</span>
  <span class="token property">"value"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">"dailyFineRate"</span><span class="token operator">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token property">"lostFineAmount"</span><span class="token operator">:</span> <span class="token number">600</span> <span class="token punctuation">}</span> <span class="token comment">// JSON Stringified</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-secure-edit">Visual Flow (Secure Edit) </h4>
        <div class="mermaid">sequenceDiagram
            participant User
            participant BE as Backend
            participant DB as Database

            User-&gt;&gt;BE: Verify Password (current)
            BE-&gt;&gt;DB: Check Hash
            BE--&gt;&gt;User: Verified OK

            User-&gt;&gt;BE: Save Policy JSON
            BE-&gt;&gt;DB: UPDATE policy_config
        </div>
        <h3 id="1217-history-traceability">12.17. History: Traceability </h3>
        <p><strong>Route</strong>: <code>/dashboard/history</code></p>
        <ol>
            <li><strong>Query</strong>: <code>GET /api/history?limit=20</code></li>
            <li><strong>Response</strong> (Joined Data):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"txn-001"</span><span class="token punctuation">,</span>
    <span class="token property">"action_type"</span><span class="token operator">:</span> <span class="token string">"RETURN"</span><span class="token punctuation">,</span>
    <span class="token property">"student_name"</span><span class="token operator">:</span> <span class="token string">"Alice (SNAPSHOT)"</span><span class="token punctuation">,</span> <span class="token comment">// From transaction_logs</span>
    <span class="token property">"book_title"</span><span class="token operator">:</span> <span class="token string">"Physics Vol 1 (SNAPSHOT)"</span><span class="token punctuation">,</span>
    <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2026-01-28T10:00:00Z"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-history-trace">Visual Flow (History Trace) </h4>
        <div class="mermaid">graph LR
            REQ[Request] --&gt; API
            API --&gt;|Query| TL[transaction_logs]
            TL --&gt;|Snapshot| S_NAME[Student Name]
            TL --&gt;|Snapshot| B_TITLE[Book Title]
            note[Snapshots exist even if original IDs are deleted]
        </div>
        <h3 id="1218-audit-logs-metadata">12.18. Audit Logs (Metadata) </h3>
        <p><strong>Route</strong>: <code>/dashboard/audit</code></p>
        <ol>
            <li><strong>Response Item</strong>:
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"actor"</span><span class="token operator">:</span> <span class="token string">"Admin"</span><span class="token punctuation">,</span>
  <span class="token property">"action"</span><span class="token operator">:</span> <span class="token string">"CONFIG_CHANGE"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Changed Fine Rate"</span><span class="token punctuation">,</span>
  <span class="token property">"metadata"</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
    <span class="token property">"old_value"</span><span class="token operator">:</span> <span class="token string">"1.0"</span><span class="token punctuation">,</span> 
    <span class="token property">"new_value"</span><span class="token operator">:</span> <span class="token string">"2.0"</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
        </ol>
        <h4 id="visual-flow-audit-logic">Visual Flow (Audit Logic) </h4>
        <div class="mermaid">graph TD
            Trigger[Action: UPDATE/DELETE] --&gt;|Auto| Service[Audit Service]
            Service --&gt;|Capture| Meta[Diff Metadata]
            Service --&gt;|Insert| DB[(Audit Table)]
            DB --&gt;|Stream| WS[WebSocket]
            WS --&gt;|Update| AdminUI[Admin Dashboard]
        </div>
        <h3 id="1219-profile-change-password">12.19. Profile: Change Password </h3>
        <p><strong>Route</strong>: <code>/dashboard/profile</code></p>
        <ol>
            <li><strong>Payload</strong> (<code>POST /api/auth/change-password</code>):
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"old_password"</span><span class="token operator">:</span> <span class="token string">"current_pass"</span><span class="token punctuation">,</span>
  <span class="token property">"new_password"</span><span class="token operator">:</span> <span class="token string">"secure_new_pass"</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>Validation</strong>: Fails if <code>old_password</code> hash mismatch.</li>
        </ol>
        <h4 id="visual-flow-pass-change">Visual Flow (Pass Change) </h4>
        <div class="mermaid">sequenceDiagram
            participant User
            participant BE as Backend
            participant DB as Database

            User-&gt;&gt;BE: Change Password
            BE-&gt;&gt;DB: Fetch Current Hash
            BE-&gt;&gt;BE: Compare Old Pass
            alt Match
            BE-&gt;&gt;BE: Hash New Pass
            BE-&gt;&gt;DB: Update Hash
            BE--&gt;&gt;User: Success
            else Mismatch
            BE--&gt;&gt;User: Error
            end
        </div>
        <h3 id="1220-landing-page-gateway">12.20. Landing Page (Gateway) </h3>
        <p><strong>Route</strong>: <code>/</code></p>
        <ol>
            <li><strong>Asset Load</strong>:
                <ul>
                    <li><code>GET /api/settings/public</code> -&gt; Returns
                        <code>{ "header_title": "GPTK", "theme": "Dark" }</code>.
                    </li>
                    <li><strong>Check</strong>: If <code>auth_token</code> in localStorage -&gt; Redirect
                        <code>/dashboard</code>.
                    </li>
                    <li><strong>Fallback</strong>: Render Login Form.</li>
                </ul>
            </li>
        </ol>
        <h4 id="visual-flow-gateway">Visual Flow (Gateway) </h4>
        <div class="mermaid">graph TD
            Start[Open App] --&gt; Check{Has Token?}
            Check --&gt;|Yes| Dash[Dashboard]
            Check --&gt;|No| Login[Login Page]
            Login --&gt;|Success| Dash
        </div>
        <hr>
        <hr>
        <h2 id="13-system-class-structure-uml">13. System Class Structure (UML) </h2>
        <p>This section represents the system's static structure using <strong>UML Class Diagrams</strong>. It bridges
            the gap between the Relational Database (Entities) and the Backend Logic (Controllers).</p>
        <h3 id="131-domain-model--controller-architecture">13.1. Domain Model &amp; Controller Architecture </h3>
        <p>This "Grand Class Diagram" visualizes the <strong>Data Entities</strong> (with their fields) and the
            <strong>Controller Modules</strong> (with their public methods) that manage them.
        </p>
        <div class="mermaid">classDiagram
            %% --- RELATIONSHIPS (Data) ---
            Department "1" --* "N" Student : Has
            Department "1" --* "N" Book : Categorizes
            Book "1" --* "N" BookCopy : Spawns
            Student "1" -- "N" Circulation : Borrows
            BookCopy "1" -- "0..1" Circulation : Is In
            Student "1" -- "N" Fine : Incurs
            Staff "1" -- "N" TransactionLog : Performs
            Admin --|&gt; Staff : Inherits (Conceptual)

            %% --- RELATIONSHIPS (Logic) ---
            CirculationHandler ..&gt; Student : Validates
            CirculationHandler ..&gt; BookCopy : Updates
            CirculationHandler ..&gt; Circulation : Creates
            BookController ..&gt; Book : Manages
            StudentController ..&gt; Student : Manages
            AuthController ..&gt; Staff : Authenticates

            %% --- DATA ENTITIES (Blue) ---
            class Student {
            +UUID id
            +String reg_no
            +String name
            +String email
            +String phone
            +Float liability
            +Status status
            }

            class Book {
            +String isbn
            +String title
            +String author
            +String publisher
            +Float price
            +String shelf_loc
            }

            class BookCopy {
            +UUID id
            +String accession_no
            +Enum status (Available/Issued)
            +Boolean is_damaged
            }

            class Department {
            +UUID id
            +String code
            +String name
            +String hod_signature
            }

            class Circulation {
            +UUID id
            +Date issue_date
            +Date due_date
            +calculateFine()
            }

            class Fine {
            +UUID id
            +Float amount
            +Enum reason
            +Enum status
            }

            class Staff {
            +UUID id
            +String email
            +String password_hash
            +JSON permissions
            }

            class Admin {
            +String root_privileges
            }

            %% --- CONTROLLER MODULES (Red) ---
            class CirculationHandler {
            &lt;&lt;Module&gt;&gt;
            +validateBorrower(id)
            +issueBooks(studentId, books[])
            +returnBook(loanId)
            +renewBook(loanId)
            }

            class BookController {
            &lt;&lt;Module&gt;&gt;
            +getBooks(filter)
            +addBook(details)
            +editBook(id, details)
            +deleteBook(id)
            +importBulk(csv)
            }

            class StudentController {
            &lt;&lt;Module&gt;&gt;
            +register(student)
            +promoteAll()
            +getDefaulters()
            }

            class AuthController {
            &lt;&lt;Module&gt;&gt;
            +login(email, pass)
            +verifyToken()
            +forgotPassword(email)
            +resetPassword(token, newPass)
            }

            class SettingsController {
            &lt;&lt;Module&gt;&gt;
            +updateConfig(key, val)
            +backupToCloud()
            +systemHealth()
            }

            %% Styling
            style Student fill:#e1f5fe,stroke:#01579b
            style Book fill:#e1f5fe,stroke:#01579b
            style BookCopy fill:#e1f5fe,stroke:#01579b
            style CirculationHandler fill:#fce4ec,stroke:#880e4f
            style BookController fill:#fce4ec,stroke:#880e4f
        </div>
        <hr>
        <hr>
        <hr>
        <hr>
        <h2 id="14-user-interface-specifications">14. User Interface Specifications </h2>
        <p>This section defines the granular visual structure, component properties, and interaction behaviors for every
            screen.</p>
        <h3 id="121-login-screen">12.1. Login Screen </h3>
        <p><strong>Route</strong>: <code>/login</code> (Public)<br>
            <strong>Visual Layout</strong>: <code>Split Screen</code> (Left: 50% Brand Image, Right: 50% Auth Form
            centered vertically).
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>img_brand</code></td>
                    <td style="text-align:left">Image</td>
                    <td style="text-align:left"><code>settings.brand_logo</code></td>
                    <td style="text-align:left">Fit: Cover</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>inp_email</code></td>
                    <td style="text-align:left">Input</td>
                    <td style="text-align:left"><code>auth.email</code></td>
                    <td style="text-align:left">Placeholder: "<a href="mailto:admin@college.edu">admin@college.edu</a>",
                        AutoFocus</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>inp_pass</code></td>
                    <td style="text-align:left">Password</td>
                    <td style="text-align:left"><code>auth.password</code></td>
                    <td style="text-align:left">Toggle: Show/Hide</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_login</code></td>
                    <td style="text-align:left">Button</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">State: <code>Loading</code> (Spinner) when submitting</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>lnk_forgot</code></td>
                    <td style="text-align:left">Link</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Href: <code>/forgot-password</code></td>
                </tr>
            </tbody>
        </table>
        <p><strong>Operations</strong>:</p>
        <ol>
            <li><strong>Submit</strong>: POST <code>/api/auth/login</code>. On 401: Shake animation + Toast "Invalid
                Credentials".</li>
            <li><strong>Setup Check</strong>: On mount, GET <code>/api/setup</code>. If <code>count(admins) == 0</code>,
                redirect <code>/setup</code>.</li>
        </ol>
        <h3 id="122-dashboard-hub">12.2. Dashboard (Hub) </h3>
        <p><strong>Route</strong>: <code>/dashboard</code> (Private)<br>
            <strong>Visual Layout</strong>: <code>Grid Layout</code> (Header: Fixed Top, Sidebar: Collapsible Left,
            Content: Scrollable).
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>kpi_books</code></td>
                    <td style="text-align:left">Card</td>
                    <td style="text-align:left"><code>stats.total_books</code></td>
                    <td style="text-align:left">Icon: <code>BookOpen</code>, Color: Blue</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>kpi_users</code></td>
                    <td style="text-align:left">Card</td>
                    <td style="text-align:left"><code>stats.active_students</code></td>
                    <td style="text-align:left">Icon: <code>Users</code>, Color: Green</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>kpi_issued</code></td>
                    <td style="text-align:left">LiveCard</td>
                    <td style="text-align:left"><code>socket:circulation.active</code></td>
                    <td style="text-align:left">Badge: "Live"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>chart_circ</code></td>
                    <td style="text-align:left">LineChart</td>
                    <td style="text-align:left"><code>reports.weekly_trend</code></td>
                    <td style="text-align:left">X: Date, Y: Count</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>wid_due</code></td>
                    <td style="text-align:left">List</td>
                    <td style="text-align:left"><code>circulation.due_today</code></td>
                    <td style="text-align:left">Max: 5 items, Action: "Remind"</td>
                </tr>
            </tbody>
        </table>
        <h3 id="123-circulation-interface">12.3. Circulation Interface </h3>
        <p><strong>Route</strong>: <code>/dashboard/circulation</code><br>
            <strong>Visual Layout</strong>: <code>Tabbed View</code> (Tabs: Issue, Return, Renew).
        </p>
        <h4 id="tab-f1-issue-book">Tab F1: Issue Book </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>inp_student</code></td>
                    <td style="text-align:left">PID Input</td>
                    <td style="text-align:left"><code>txn.student_id</code></td>
                    <td style="text-align:left">Debounce: 500ms, OnEnter: Fetch Profile</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>pnl_profile</code></td>
                    <td style="text-align:left">Card</td>
                    <td style="text-align:left"><code>student.details</code></td>
                    <td style="text-align:left">State: <code>Hidden</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>badge_status</code></td>
                    <td style="text-align:left">Label</td>
                    <td style="text-align:left"><code>student.status</code></td>
                    <td style="text-align:left">Red="Blocked", Green="Active"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>inp_book</code></td>
                    <td style="text-align:left">Barcode</td>
                    <td style="text-align:left"><code>txn.book_ids[]</code></td>
                    <td style="text-align:left">Mode: Multi-scan (Array)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>tbl_cart</code></td>
                    <td style="text-align:left">Table</td>
                    <td style="text-align:left"><code>txn.book_list</code></td>
                    <td style="text-align:left">Cols: Title, DueDate, RemoveBtn</td>
                </tr>
            </tbody>
        </table>
        <p><strong>Logic</strong>:</p>
        <ul>
            <li><strong>Liability Check</strong>: If <code>student.unpaid_fines &gt; config.limit</code> -&gt; Disable
                <code>btn_confirm</code> + Show Alert.
            </li>
            <li><strong>Quota Check</strong>: If <code>current_loans + cart_size &gt; config.max_loans</code> -&gt; Show
                "Quota Exceeded".</li>
        </ul>
        <h4 id="tab-f2-return-book">Tab F2: Return Book </h4>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>inp_ret_scan</code></td>
                    <td style="text-align:left">Barcode</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Auto-submit on scan</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>lbl_overdue</code></td>
                    <td style="text-align:left">Alert</td>
                    <td style="text-align:left"><code>calc.overdue_days</code></td>
                    <td style="text-align:left">Show only if &gt; 0</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>rad_condition</code></td>
                    <td style="text-align:left">Radio</td>
                    <td style="text-align:left"><code>txn.condition</code></td>
                    <td style="text-align:left">Opts: Good, Damaged, Lost</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_ret_conf</code></td>
                    <td style="text-align:left">Button</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Variant: Danger (if fines exist)</td>
                </tr>
            </tbody>
        </table>
        <h3 id="124-student-management">12.4. Student Management </h3>
        <p><strong>Route</strong>: <code>/dashboard/students</code><br>
            <strong>Visual Layout</strong>: <code>Master-Detail</code> (Table with Sidebar Filter).
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>flt_dept</code></td>
                    <td style="text-align:left">Select</td>
                    <td style="text-align:left"><code>depts.list</code></td>
                    <td style="text-align:left">Multi-select</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>tbl_students</code></td>
                    <td style="text-align:left">DataTable</td>
                    <td style="text-align:left"><code>students.data</code></td>
                    <td style="text-align:left">Pagination: Server-side</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_add</code></td>
                    <td style="text-align:left">ModalTrigger</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Opens <code>mdl_student</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_import</code></td>
                    <td style="text-align:left">FileUpload</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Accept: <code>.csv, .xlsx</code></td>
                </tr>
            </tbody>
        </table>
        <p><strong>Modal: Add Student</strong> (<code>mdl_student</code>)</p>
        <ul>
            <li><strong>Fields</strong>: Name, RegNo (Unique), Email (Unique/Optional), Phone.</li>
            <li><strong>Validation</strong>: RegNo must match Regex <code>^[0-9A-Z]+$</code>.</li>
        </ul>
        <h3 id="125-book-catalog">12.5. Book Catalog </h3>
        <p><strong>Route</strong>: <code>/dashboard/books</code><br>
            <strong>Visual Layout</strong>: <code>Card Grid</code> or <code>Table</code> (Toggleable).
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>inp_search</code></td>
                    <td style="text-align:left">SearchBar</td>
                    <td style="text-align:left"><code>query.q</code></td>
                    <td style="text-align:left">Scope: Title, Author, ISBN</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>row_expander</code></td>
                    <td style="text-align:left">Button</td>
                    <td style="text-align:left"><code>book.copies</code></td>
                    <td style="text-align:left">Expands to show Accession List</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>lbl_stock</code></td>
                    <td style="text-align:left">Badge</td>
                    <td style="text-align:left"><code>book.avail_qty</code></td>
                    <td style="text-align:left">Format: "3 / 5 Available"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_print_qr</code></td>
                    <td style="text-align:left">Action</td>
                    <td style="text-align:left"><code>book.id</code></td>
                    <td style="text-align:left">Generates QR PDF</td>
                </tr>
            </tbody>
        </table>
        <h3 id="126-staff--admin-rbac">12.6. Staff &amp; Admin (RBAC) </h3>
        <p><strong>Route</strong>: <code>/dashboard/staff</code><br>
            <strong>Visual Layout</strong>: <code>List Group</code>.
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>lst_staff</code></td>
                    <td style="text-align:left">Repeater</td>
                    <td style="text-align:left"><code>staff.list</code></td>
                    <td style="text-align:left">Item: Avatar, Name, Role</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>chk_perm_*</code></td>
                    <td style="text-align:left">Checkbox</td>
                    <td style="text-align:left"><code>staff.permissions</code></td>
                    <td style="text-align:left">Dynamic keys (e.g., <code>perm_issue</code>)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>sw_active</code></td>
                    <td style="text-align:left">Toggle</td>
                    <td style="text-align:left"><code>staff.is_active</code></td>
                    <td style="text-align:left">Immediate API call on change</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_reset</code></td>
                    <td style="text-align:left">Action</td>
                    <td style="text-align:left"><code>staff.id</code></td>
                    <td style="text-align:left">Shows "Copy Temp Password" dialog</td>
                </tr>
            </tbody>
        </table>
        <h3 id="127-reports-center">12.7. Reports Center </h3>
        <p><strong>Route</strong>: <code>/dashboard/reports</code><br>
            <strong>Visual Layout</strong>: <code>Sidebar Controls</code> + <code>Preview Pane</code>.
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>rng_date</code></td>
                    <td style="text-align:left">DatePicker</td>
                    <td style="text-align:left"><code>filters.range</code></td>
                    <td style="text-align:left">Default: Current Month</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>sel_type</code></td>
                    <td style="text-align:left">Select</td>
                    <td style="text-align:left"><code>report.type</code></td>
                    <td style="text-align:left">Opts: Issues, Returns, Fines, Stock</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>view_html</code></td>
                    <td style="text-align:left">Table</td>
                    <td style="text-align:left"><code>preview.data</code></td>
                    <td style="text-align:left">Read-only, Scrollable</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_pdf</code></td>
                    <td style="text-align:left">BlobAction</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Triggers <code>jsPDF</code> render</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_csv</code></td>
                    <td style="text-align:left">Download</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Triggers CSV Stream</td>
                </tr>
            </tbody>
        </table>
        <h3 id="128-settings--configuration">12.8. Settings &amp; Configuration </h3>
        <p><strong>Route</strong>: <code>/dashboard/settings</code><br>
            <strong>Visual Layout</strong>: <code>Vertical Tabs</code>.
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>inp_inst_name</code></td>
                    <td style="text-align:left">Input</td>
                    <td style="text-align:left"><code>config.header_title</code></td>
                    <td style="text-align:left">Requres Restart: No</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>inp_fine_amt</code></td>
                    <td style="text-align:left">Currency</td>
                    <td style="text-align:left"><code>policy.fine_per_day</code></td>
                    <td style="text-align:left">Locked (Requires Auth)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_test_prn</code></td>
                    <td style="text-align:left">Action</td>
                    <td style="text-align:left"><code>hardware.printer</code></td>
                    <td style="text-align:left">Sends test payload to thermal printer</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>log_sync</code></td>
                    <td style="text-align:left">Terminal</td>
                    <td style="text-align:left"><code>sync.logs</code></td>
                    <td style="text-align:left">Tail: 50 lines</td>
                </tr>
            </tbody>
        </table>
        <p><strong>Security Gate</strong>:</p>
        <ul>
            <li>Editing <code>policy.*</code> triggers <code>mdl_auth</code>. Input: <code>admin_password</code>. Logic:
                Verify Hash -&gt; Unlock Field.</li>
        </ul>
        <h3 id="129-broadcast-notifications">12.9. Broadcast Notifications </h3>
        <p><strong>Route</strong>: <code>/dashboard/notifications</code><br>
            <strong>Visual Layout</strong>: <code>Composer View</code>.
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>sel_target</code></td>
                    <td style="text-align:left">RadioGroup</td>
                    <td style="text-align:left"><code>msg.target</code></td>
                    <td style="text-align:left">Opts: All, Due&lt;3d, Overdue, Dept</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>edt_body</code></td>
                    <td style="text-align:left">RichText</td>
                    <td style="text-align:left"><code>msg.html_content</code></td>
                    <td style="text-align:left">Toolbar: Bold, Link, List</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>prg_send</code></td>
                    <td style="text-align:left">ProgressBar</td>
                    <td style="text-align:left"><code>job.progress</code></td>
                    <td style="text-align:left">Visible only during sending</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>txt_status</code></td>
                    <td style="text-align:left">Log</td>
                    <td style="text-align:left"><code>job.status</code></td>
                    <td style="text-align:left">"Sent 45/100..."</td>
                </tr>
            </tbody>
        </table>
        <h3 id="1210-fine-collection-cashier">12.10. Fine Collection (Cashier) </h3>
        <p><strong>Route</strong>: <code>/dashboard/fines</code><br>
            <strong>Visual Layout</strong>: <code>Split Pane</code> (checkout style).
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>pnl_due</code></td>
                    <td style="text-align:left">BigDisplay</td>
                    <td style="text-align:left"><code>student.total_due</code></td>
                    <td style="text-align:left">Color: Red, Size: XL</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>chk_item_{id}</code></td>
                    <td style="text-align:left">Checkbox</td>
                    <td style="text-align:left"><code>fine.selected</code></td>
                    <td style="text-align:left">OnChange: Updates <code>total_pay</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>sel_mode</code></td>
                    <td style="text-align:left">Segmented</td>
                    <td style="text-align:left"><code>txn.mode</code></td>
                    <td style="text-align:left">Cash</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_collect</code></td>
                    <td style="text-align:left">Button</td>
                    <td style="text-align:left"><code>txn.amount</code></td>
                    <td style="text-align:left">"Collect 50.00"</td>
                </tr>
            </tbody>
        </table>
        <h3 id="1211-departments-management">12.11. Departments Management </h3>
        <p><strong>Route</strong>: <code>/dashboard/departments</code></p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>crd_dept</code></td>
                    <td style="text-align:left">Card</td>
                    <td style="text-align:left"><code>dept</code></td>
                    <td style="text-align:left">Header: Code, Body: Name</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>img_sig</code></td>
                    <td style="text-align:left">Preview</td>
                    <td style="text-align:left"><code>dept.signature</code></td>
                    <td style="text-align:left">MaxHeight: 50px</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>upl_sig</code></td>
                    <td style="text-align:left">FileInput</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Target: <code>uploads/signatures/</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="1212-transaction-history">12.12. Transaction History </h3>
        <p><strong>Route</strong>: <code>/dashboard/history</code></p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>tbl_txns</code></td>
                    <td style="text-align:left">Table</td>
                    <td style="text-align:left"><code>history.logs</code></td>
                    <td style="text-align:left">RowColor: Issue(Blue), Ret(Green)</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>flt_type</code></td>
                    <td style="text-align:left">Chips</td>
                    <td style="text-align:left"><code>query.type</code></td>
                    <td style="text-align:left">Filter by Action Type</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_reprint</code></td>
                    <td style="text-align:left">Icon</td>
                    <td style="text-align:left"><code>txn.id</code></td>
                    <td style="text-align:left">Re-generates Receipt PDF</td>
                </tr>
            </tbody>
        </table>
        <h3 id="1213-audit-logs-security">12.13. Audit Logs (Security) </h3>
        <p><strong>Route</strong>: <code>/dashboard/audit</code></p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>strm_logs</code></td>
                    <td style="text-align:left">Table</td>
                    <td style="text-align:left"><code>socket:audit.new</code></td>
                    <td style="text-align:left">Prepend new rows</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>mdl_diff</code></td>
                    <td style="text-align:left">DiffView</td>
                    <td style="text-align:left"><code>log.metadata</code></td>
                    <td style="text-align:left">Shows Red/Green text diff</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>btn_export</code></td>
                    <td style="text-align:left">Action</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Dumps all to <code>.csv</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="1214-system-health">12.14. System Health </h3>
        <p><strong>Route</strong>: <code>/dashboard/health</code><br>
            <strong>Visual Layout</strong>: <code>Dashboard Gauge Cluster</code>.
        </p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>gauge_cpu</code></td>
                    <td style="text-align:left">Radial</td>
                    <td style="text-align:left"><code>os.cpu_load</code></td>
                    <td style="text-align:left">&gt;80% = Red</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>gauge_ram</code></td>
                    <td style="text-align:left">Bar</td>
                    <td style="text-align:left"><code>os.free_mem</code></td>
                    <td style="text-align:left">Tooltip: "4GB / 16GB Used"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>ind_db</code></td>
                    <td style="text-align:left">Dot</td>
                    <td style="text-align:left"><code>db.status</code></td>
                    <td style="text-align:left">Green=OK, Red=Error</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>ind_net</code></td>
                    <td style="text-align:left">Dot</td>
                    <td style="text-align:left"><code>net.online</code></td>
                    <td style="text-align:left">Ping: <code>google.com</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="1215-user-profile">12.15. User Profile </h3>
        <p><strong>Route</strong>: <code>/dashboard/profile</code></p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>pwd_curr</code></td>
                    <td style="text-align:left">Password</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Validation: Must match hash</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>pwd_new</code></td>
                    <td style="text-align:left">Password</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Validation: Min 8 chars, 1 Special</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>tgl_theme</code></td>
                    <td style="text-align:left">Switch</td>
                    <td style="text-align:left"><code>pref.theme</code></td>
                    <td style="text-align:left">Updates CSS Variables root</td>
                </tr>
            </tbody>
        </table>
        <h3 id="1216-forgot-password-flow">12.16. Forgot Password Flow </h3>
        <p><strong>Route</strong>: <code>/forgot-password</code> (Wizard)</p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Element ID</th>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Data Binding</th>
                    <th style="text-align:left">Props / State</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><code>step_1</code></td>
                    <td style="text-align:left">Form</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Input: Email -&gt; POST /otp</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>inp_otp</code></td>
                    <td style="text-align:left">NumPad</td>
                    <td style="text-align:left"><code>flow.otp</code></td>
                    <td style="text-align:left">Local State: 6 chars</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>timer_resend</code></td>
                    <td style="text-align:left">Text</td>
                    <td style="text-align:left"><code>flow.timer</code></td>
                    <td style="text-align:left">"Resend in 30s"</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>step_3</code></td>
                    <td style="text-align:left">Form</td>
                    <td style="text-align:left">-</td>
                    <td style="text-align:left">Input: NewPass -&gt; PUT /reset</td>
                </tr>
            </tbody>
        </table>
        <hr>
        <hr>
        <h2 id="15-advanced-system-architecture">15. Advanced System Architecture </h2>
        <p>This section details the internal component design, layering, and process management that powers the hybrid
            desktop application.</p>
        <h3 id="131-layered-architecture-diagram">13.1. Layered Architecture Diagram </h3>
        <p>The system follows a strict <strong>Separation of Concerns (SoC)</strong> pattern, divided into three
            horizontal layers: Presentation, Application (Business), and Data.</p>
        <div class="mermaid">graph TD
            subgraph "Layer 1: Presentation (Frontend)"
            UI[React Components]
            State[Context Providers]
            Hooks[Custom Hooks]
            Client[Axios Client]
            end

            subgraph "Layer 2: Application (Backend)"
            API[Express Router]
            Ctrl[Controllers]
            Logic[Business Logic / Services]
            Utils[Helpers &amp; Validators]
            end

            subgraph "Layer 3: Data &amp; Infrastructure"
            DAO[Data Access Layer]
            DB[(SQLite Engine)]
            FS[File System]
            Cloud[Cloud Adaptor]
            end

            %% Flows
            UI --&gt;|Render| State
            State --&gt;|Action| Hooks
            Hooks --&gt;|Request| Client

            Client -- "HTTP / WS" --&gt; API
            API --&gt;|Route| Ctrl
            Ctrl --&gt;|Process| Logic
            Logic --&gt;|Validate| Utils

            Logic --&gt;|Query| DAO
            DAO --&gt;|CRUD| DB
            DAO --&gt;|Write| FS
            DAO -.-&gt;|Sync| Cloud

            %% Styling
            style UI fill:#e3f2fd,stroke:#1565c0
            style Logic fill:#f3e5f5,stroke:#7b1fa2
            style DB fill:#e8f5e9,stroke:#2e7d32
        </div>
        <h3 id="132-component-interaction--ipc-bridge">13.2. Component Interaction &amp; IPC Bridge </h3>
        <p>Since the app runs as an Electron executable, it manages two distinct environments: the Node.js Main Process
            and the Chromium Renderer Process.</p>
        <h4 id="process-model">Process Model </h4>
        <ol>
            <li><strong>Main Process (<code>main.js</code>)</strong>: The entry point. It creates the GUI window and
                spawns the backend server.
                <ul>
                    <li><em>Responsibility</em>: OS Integration (Menus, Tray), Window Management, Auto-Updater.</li>
                    <li><em>Child Process</em>: Spawns the Express Server (<code>server.js</code>) on a random available
                        port (default 4000).</li>
                </ul>
            </li>
            <li><strong>Renderer Process (<code>React App</code>)</strong>: The UI logic.
                <ul>
                    <li><em>Responsibility</em>: DOM Rendering, State Management, API Calls.</li>
                    <li><em>Security</em>: <code>contextIsolation: true</code>, <code>nodeIntegration: false</code>.
                        Accesses OS features only via <code>window.electron</code> bridge.</li>
                </ul>
            </li>
        </ol>
        <div class="mermaid">sequenceDiagram
            participant User
            participant React as Render Process (UI)
            participant Electron as Main Process (Native)
            participant Express as Child Process (API)
            participant DB as SQLite

            %% Startup
            Note over Electron: App Launch
            Electron-&gt;&gt;Express: Spawn (fork 'server.js')
            Express--&gt;&gt;Electron: "Listening on :4000"
            Electron-&gt;&gt;React: IpcSend "SERVER_READY" (Port 4000)

            %% Interaction
            User-&gt;&gt;React: Click "Print Receipt"
            React-&gt;&gt;Express: POST /api/print (Payload)
            Express-&gt;&gt;DB: Fetch Transaction
            Express--&gt;&gt;React: 200 OK (Job Queued)

            %% Native Call
            React-&gt;&gt;Electron: IpcInvoke "PRINT_WINDOW" (PDF Blob)
            Electron-&gt;&gt;User: Native Print Dialog
        </div>
        <h3 id="133-design-patterns">13.3. Design Patterns </h3>
        <ul>
            <li><strong>Repository Pattern</strong>: Database queries are abstracted in helper functions
                (<code>getStudent</code>, <code>updateBook</code>), keeping Controllers clean.</li>
            <li><strong>Observer Pattern</strong>: The backend uses <code>Socket.io</code> to "push" updates (e.g.,
                Audit Logs, Dashboard Counters) to all connected clients instantly.</li>
            <li><strong>Singleton</strong>: The Database Connection (<code>db.js</code>) is initialized once and reused
                across the entire backend lifecycle.</li>
            <li><strong>Factory Pattern</strong>: Used in <code>ReportGenerator</code> to instantiate different report
                types (PDF, CSV, HTML) based on user selection.</li>
        </ul>
        <h2 id="16-project-implementation-roadmap-agile-scrum">16. Project Implementation Roadmap (Agile Scrum) </h2>
        <p>This project adopts the <strong>Agile Scrum Methodology</strong>, continuously delivering functional
            "vertical slices" of the application in <strong>2-week Sprints</strong>. This ensures rapid feedback and
            early detection of integration issues.</p>
        <h3 id="141-agile-process-flow">14.1. Agile Process Flow </h3>
        <div class="mermaid">graph LR
            %% Agile Loop
            Backlog[Product Backlog] --&gt; Plan[Sprint Planning]
            Plan --&gt; Cycle{"Sprint Cycle&lt;br&gt;(2 Weeks)"}
            Cycle --&gt;|Design| Dev[Develop]
            Dev --&gt;|Test| QA[Verify]
            QA --&gt;|Review| Review[Sprint Review]
            Review --&gt;|Increment| Ship[Shippable Build]
            Review --&gt;|Retro| Plan

            %% Styling
            style Cycle fill:#fff9c4,stroke:#fbc02d,stroke-width:2px
            style Ship fill:#c8e6c9,stroke:#2e7d32
        </div>
        <h3 id="142-sprint-schedule-16-weeks">14.2. Sprint Schedule (16 Weeks) </h3>
        <p>Each Sprint includes Analysis, Design, Dev, and Testing for its specific feature set.</p>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Sprint</th>
                    <th style="text-align:left">Timeline</th>
                    <th style="text-align:left">Focus Feature (Vertical Slice)</th>
                    <th style="text-align:left">Key Deliverables (Shippable Increment)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Sprint 1</strong></td>
                    <td style="text-align:left"><strong>Week 1-2</strong></td>
                    <td style="text-align:left"><strong>Zero To One (Foundation)</strong></td>
                    <td style="text-align:left"> Repo &amp; Environment Setup (Electron/React/Node)<br> DB Schema v1.0
                        (SQLite)<br> <strong>Feature</strong>: User Login &amp; Auth (JWT/RBAC)<br>
                        <strong>Outcome</strong>: Admin can log in/out.
                    </td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 2</strong></td>
                    <td style="text-align:left"><strong>Week 3-4</strong></td>
                    <td style="text-align:left"><strong>Catalog Management</strong></td>
                    <td style="text-align:left"> Book CRUD API &amp; UI<br> Bulk Import (CSV) Logic<br> Barcode
                        Generation Logic<br> <strong>Outcome</strong>: Staff can add/upload books.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 3</strong></td>
                    <td style="text-align:left"><strong>Week 5-6</strong></td>
                    <td style="text-align:left"><strong>Member Operations</strong></td>
                    <td style="text-align:left"> Student Registration API &amp; UI<br> Student Bulk Import<br>
                        Department Signature Upload<br> <strong>Outcome</strong>: Database populated with Students
                        &amp; Books.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 4</strong></td>
                    <td style="text-align:left"><strong>Week 7-8</strong></td>
                    <td style="text-align:left"><strong>Circulation Core</strong></td>
                    <td style="text-align:left"> Issue / Return Transaction Engine<br> "Cart" System for batch
                        issue<br> Validation Rules (Limits/Overdue)<br> <strong>Outcome</strong>: Books can be issued
                        to Students.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 5</strong></td>
                    <td style="text-align:left"><strong>Week 9-10</strong></td>
                    <td style="text-align:left"><strong>Financials &amp; Dashboard</strong></td>
                    <td style="text-align:left"> Fine Calculation Service (Cron/Trigger)<br> Payment Collection
                        UI<br> Admin Dashboard (KPI Cards)<br> <strong>Outcome</strong>: Fines generated and
                        collected.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 6</strong></td>
                    <td style="text-align:left"><strong>Week 11-12</strong></td>
                    <td style="text-align:left"><strong>Reports &amp; Settings</strong></td>
                    <td style="text-align:left"> Report Generator (PDF/Excel)<br> System Settings (Policy config)<br>
                        Email Notifications (SMTP)<br> <strong>Outcome</strong>: Admins can export data and change
                        rules.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 7</strong></td>
                    <td style="text-align:left"><strong>Week 13-14</strong></td>
                    <td style="text-align:left"><strong>Hardening &amp; Audit</strong></td>
                    <td style="text-align:left"> Security Audit (SQLi/XSS checks)<br> Cloud Sync (Backup Service)<br>
                        Audit Logs Visualizer<br> <strong>Outcome</strong>: System is secure and backed up.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Sprint 8</strong></td>
                    <td style="text-align:left"><strong>Week 15-16</strong></td>
                    <td style="text-align:left"><strong>Final Polish</strong></td>
                    <td style="text-align:left"> End-to-End Regression Testing<br> Installer Packaging
                        (.exe/.msi)<br> User Manual Finalization<br> <strong>Outcome</strong>: <strong>Production
                            Release v1.0</strong></td>
                </tr>
            </tbody>
        </table>
        <hr>
        <hr>
        <h2 id="17-coding-standards--best-practices">17. Coding Standards &amp; Best Practices </h2>
        <p>To ensure maintainability and consistency, all development must adhere to the following standards.</p>
        <h3 id="151-naming-conventions">15.1. Naming Conventions </h3>
        <table>
            <thead>
                <tr>
                    <th style="text-align:left">Type</th>
                    <th style="text-align:left">Standard</th>
                    <th style="text-align:left">Example</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:left"><strong>Variables</strong></td>
                    <td style="text-align:left"><code>camelCase</code></td>
                    <td style="text-align:left"><code>studentName</code>, <code>isActive</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Functions</strong></td>
                    <td style="text-align:left"><code>camelCase</code></td>
                    <td style="text-align:left"><code>calculateFine()</code>, <code>fetchBooks()</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Classes/Components</strong></td>
                    <td style="text-align:left"><code>PascalCase</code></td>
                    <td style="text-align:left"><code>BookCard.js</code>, <code>CirculationService</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Constants</strong></td>
                    <td style="text-align:left"><code>UPPER_SNAKE_CASE</code></td>
                    <td style="text-align:left"><code>MAX_LOAN_LIMIT</code>, <code>API_BASE_URL</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Database Tables</strong></td>
                    <td style="text-align:left"><code>snake_case</code> (Plural)</td>
                    <td style="text-align:left"><code>book_copies</code>, <code>transaction_logs</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><strong>Routes</strong></td>
                    <td style="text-align:left"><code>kebab-case</code></td>
                    <td style="text-align:left"><code>/api/users/change-password</code></td>
                </tr>
            </tbody>
        </table>
        <h3 id="152-project-folder-structure-diagram">15.2. Project Folder Structure Diagram </h3>
        <p>The project uses a <strong>Monorepo-style</strong> structure, separating the Electron host, React frontend,
            and Node.js backend. This diagram details the <strong>exact file organization</strong> of the codebase.</p>
        <pre data-role="codeBlock" data-info="text" class="language-text text"><code>GPTK-Library-Management-System/
  .github/                     # CI/CD Workflows
  Docs/                        # Documentation (SRS, User Manual, Test Cases)
  electron/                    # [HOST] Electron Main Process
    main.js                     # Application Entry Point &amp; Window Management
    preload.js                  # IPC Bridge (Context Isolation)
    splash.html                 # Splash Screen (Loading UI)

  backend/                     # [SERVER] Node.js Express API
     controllers/             # Business Logic Layer
       adminController.js      # Admin Management
       auditController.js      # System Audit Logs
       authController.js       # Login, Logout, Session
       bookController.js       # Catalog CRUD Operations
       circulationHandler.js   # Issue/Return/Renew Logic
       dashboardController.js  # KPI &amp; Stats Aggregation
       fineController.js       # Fine Calculation &amp; Payment
       reportsController.js    # PDF/Excel Generation
       settingsHandler.js      # System Configuration
       staffController.js      # Staff Role Management
       studentController.js    # Student Registration
       healthController.js     # Health Checks
   
     routes/                  # API Endpoint Definitions
       adminRoutes.js
       authRoutes.js
       bookRoutes.js
       circulationRoutes.js
       fineRoutes.js
       reportsRoutes.js
       settingsRoutes.js
       studentRoutes.js
   
     database/                # Data Access Layer
       db.js                   # SQLite Connection &amp; Init
   
     middleware/              # Request Processing
       auth.js                 # JWT Verification
       upload.js               # Multer File Handling
   
    server.js                   # API Server Bootstrapper

  frontend/                    # [CLIENT] React Application
     public/                  # Static Assets
     src/
         components/          # UI Component Library
            common/          # Shared Atoms (Buttons, Inputs, Modals)
            books/           # BookCatalog, BookForm
            circulation/     # IssueBook, ReturnBook, Cart
            layout/          # Sidebar, Navbar, MainLayout
            students/        # StudentList, StudentForm
            dashboard/       # KPICard, Charts
       
         context/             # Global State
           SessionContext.js   # Auth User State
           LanguageContext.js  # i18n Data
           SocketContext.js    # Real-time Events
       
         pages/               # Full Page Views (Routes)
           CatalogPage.js      # Book Management
           CirculationPage.js  # Issue/Return Desk
           DashboardHome.js    # Main Hub
           LoginPage.js        # Auth Entry
           ReportsPage.js      # Analytics Center
           SettingsPage.js     # Config Panel
           StaffManager.js     # Employee Roles
           StudentManager.js   # Student Records
           UserProfile.js      # Personal Account
       
         hooks/               # Custom React Hooks
         services/            # API Client (Axios)
        App.js                  # React Root
        index.js                # DOM Entry

  build/                       # Installer Artifacts
  package.json                 # Project Manifest
  README.md                    # Quick Start
</code></pre>
        <h3 id="153-documentation--comments">15.3. Documentation &amp; Comments </h3>
        <ul>
            <li><strong>JSDoc</strong>: All major functions must have header comments.
                <pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token doc-comment comment">/**
 * Calculates the overdue fine for a given transaction.
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">dueDate</span> - ISO Date string.
 * <span class="token keyword keyword-@param">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> <span class="token parameter">dailyRate</span> - Fine per day.
 * <span class="token keyword keyword-@returns">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">}</span></span> Total fine amount.
 */</span>
</code></pre>
            </li>
            <li><strong>Inline Comments</strong>: Use <code>//</code> only for complex logic explanation, not for
                obvious code.</li>
            <li><strong>TODOs</strong>: Mark pending work with <code>// TODO: [Description]</code>.</li>
        </ul>
        <h3 id="154-error-handling-strategy">15.4. Error Handling Strategy </h3>
        <h4 id="backend">Backend </h4>
        <ol>
            <li><strong>Try-Catch</strong>: Wrap <em>all</em> async controller operations in try-catch.</li>
            <li><strong>Standard Response</strong>:
                <pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
  <span class="token property">"success"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">"message"</span><span class="token operator">:</span> <span class="token string">"User not found"</span><span class="token punctuation">,</span> <span class="token comment">// Human readable</span>
  <span class="token property">"error"</span><span class="token operator">:</span> <span class="token string">"ERR_USER_404"</span>      <span class="token comment">// Machine code</span>
<span class="token punctuation">}</span>
</code></pre>
            </li>
            <li><strong>HTTP Codes</strong>:
                <ul>
                    <li><code>200</code>: Success</li>
                    <li><code>400</code>: Bad Request (Validation failed)</li>
                    <li><code>401</code>: Unauthorized (No Token)</li>
                    <li><code>403</code>: Forbidden (Low Permissions)</li>
                    <li><code>500</code>: Internal Server Error</li>
                </ul>
            </li>
        </ol>
        <h4 id="frontend">Frontend </h4>
        <ol>
            <li><strong>Error Boundaries</strong>: Wrap app in <code>&lt;ErrorBoundary&gt;</code> to catch crash loops.
            </li>
            <li><strong>Toasts</strong>: Display user-friendly error messages (e.g., "Network Error, please retry")
                instead of raw exceptions.</li>
            <li><strong>Fallbacks</strong>: Show "No Data Found" or Skeleton loaders instead of broken UI.</li>
        </ol>
        <h3 id="155-version-control--branching-strategy">15.5. Version Control &amp; Branching Strategy </h3>
        <p>We follow the <strong>GitFlow</strong> workflow to ensure a stable production ease and organized parallel
            development.</p>
        <h4 id="branch-types">Branch Types </h4>
        <ul>
            <li><code>main</code>: <strong>Production</strong> code. Stable, deployed to users. (Protected Branch).</li>
            <li><code>develop</code>: <strong>Integration</strong> branch. All new features are merged here for testing.
            </li>
            <li><code>feature/*</code>: Individual tasks (e.g., <code>feature/login-ui</code>,
                <code>feature/book-api</code>). Created from <code>develop</code>, merged back to <code>develop</code>.
            </li>
            <li><code>hotfix/*</code>: Urgent fixes for production bugs (e.g., <code>hotfix/login-crash</code>).
                Branches off <code>main</code>, merges to both <code>main</code> and <code>develop</code>.</li>
        </ul>
        <h4 id="visual-git-workflow">Visual Git Workflow </h4>
        <div class="mermaid">gitGraph
            commit
            branch develop
            checkout develop
            commit
            branch feature/auth
            checkout feature/auth
            commit
            commit
            checkout develop
            merge feature/auth
            branch feature/catalog
            checkout feature/catalog
            commit
            checkout develop
            merge feature/catalog
            checkout main
            merge develop tag: "v1.0.0"
        </div>
        <h4 id="commit-message-convention">Commit Message Convention </h4>
        <p>We adhere to <strong>Conventional Commits</strong> to auto-generate changelogs:</p>
        <ul>
            <li><code>feat: ...</code>: A new feature (e.g., <code>feat: add student registration form</code>)</li>
            <li><code>fix: ...</code>: A bug fix (e.g., <code>fix: correct fine calculation logic</code>)</li>
            <li><code>docs: ...</code>: Documentation only changes</li>
            <li><code>style: ...</code>: Formatting, missing semi-colons, etc (no code change)</li>
            <li><code>refactor: ...</code>: Code restructuring without behavior change</li>
        </ul>
        <h4 id="pull-request-pr-process">Pull Request (PR) Process </h4>
        <ol>
            <li><strong>Sync</strong>: Ensure <code>feature</code> branch is up-to-date with <code>develop</code>
                (<code>git pull origin develop</code>).</li>
            <li><strong>Lint</strong>: Run local linters/tests before pushing.</li>
            <li><strong>Create PR</strong>: Targets <code>develop</code>. Title must follow Commit Convention.</li>
            <li><strong>Review</strong>: Requires at least <strong>1 Peer Review</strong>.</li>
            <li><strong>Merge</strong>: Squash and Merge to keep history clean.</li>
        </ol>
        <hr>
        <h2 id="18-deployment--operations-guide">18. Deployment &amp; Operations Guide </h2>
        <p>This section outlines how to install, configure, and deploy the application in both development and
            production environments.</p>
        <h3 id="161-system-requirements">16.1. System Requirements </h3>
        <h4 id="hardware-prerequisites">Hardware Prerequisites </h4>
        <ul>
            <li><strong>Processor</strong>: Dual Core 2.0 GHz or higher (Recommended: Quad Core).</li>
            <li><strong>RAM</strong>: 4 GB Minimum (Recommended: 8 GB for development).</li>
            <li><strong>Storage</strong>: 500 MB free space (plus database growth).</li>
            <li><strong>OS</strong>: Windows 10/11 (Primary Target), macOS 10.15+, or Linux (Ubuntu 20.04+).</li>
        </ul>
        <h4 id="software-prerequisites-for-source-installation">Software Prerequisites (For Source Installation) </h4>
        <ul>
            <li><strong>Node.js</strong>: v18.x or v20.x (LTS).</li>
            <li><strong>Git</strong>: v2.30+.</li>
            <li><strong>Python</strong>: v3.10+ (Required for <code>node-gyp</code> native modules if rebuilding).</li>
            <li><strong>Visual Studio Build Tools</strong>: (Windows only) for native dependencies.</li>
        </ul>
        <h3 id="162-installation-steps">16.2. Installation Steps </h3>
        <h4 id="a-production-installation-end-user">A. Production Installation (End-User) </h4>
        <ol>
            <li>Download the latest installer (<code>"GPTK Library Manager Setup 1.0.0.exe"</code>) from the Releases
                page.</li>
            <li>Run the installer as Administrator.</li>
            <li>The application will install to <code>%AppData%\Local\Programs\gptk-library-management-system</code>.
            </li>
            <li><strong>First Run</strong>:
                <ul>
                    <li>The app initializes the database at: <code>%APPDATA%\GPTK Library Manager\DB\lms.sqlite</code>.
                    </li>
                    <li>A default Admin account is created: <code>veerkotresh@gmail.com</code> / <code>123456</code>.
                    </li>
                </ul>
            </li>
        </ol>
        <h4 id="b-development-setup-source-code">B. Development Setup (Source Code) </h4>
        <ol>
            <li><strong>Clone Repository</strong>:
                <pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">git</span> clone https://github.com/kotresh75/gptk-library-system.git
<span class="token builtin class-name">cd</span> gptk-library-management-system
</code></pre>
            </li>
            <li><strong>Install Dependencies</strong>:
                <ul>
                    <li><strong>Root</strong>: <code>npm install</code> (Installs concurrently &amp; electron builder).
                    </li>
                    <li><strong>Backend</strong>: <code>cd backend &amp;&amp; npm install</code>.</li>
                    <li><strong>Frontend</strong>: <code>cd frontend &amp;&amp; npm install</code>.</li>
                </ul>
            </li>
            <li><strong>Start Development Mode</strong>:<br>
                From the root directory, run:
                <pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> start
</code></pre>
                <ul>
                    <li><strong>Backend</strong>: runs on Port <strong>17221</strong> (<a
                            href="http://localhost:17221">http://localhost:17221</a>).</li>
                    <li><strong>Frontend</strong>: runs on Port <strong>3000</strong> (<a
                            href="http://localhost:3000">http://localhost:3000</a>).</li>
                    <li><strong>Electron</strong>: Launches and loads <code>http://localhost:3000</code>.</li>
                </ul>
            </li>
        </ol>
        <h3 id="163-configuration">16.3. Configuration </h3>
        <h4 id="system-settings-database-managed">System Settings (Database Managed) </h4>
        <p>Unlike traditional apps using <code>.env</code>, this system stores configuration in the
            <code>system_settings</code> table.
        </p>
        <ul>
            <li><strong>Port</strong>: Defaults to <code>17221</code>.</li>
            <li><strong>App Title</strong>: Defaults to "GPTK Library".</li>
            <li><strong>Policy Config</strong>: Stored as JSON in <code>policy_config</code> table.</li>
        </ul>
        <h4 id="database--backups">Database &amp; Backups </h4>
        <ul>
            <li><strong>Location</strong>:
                <ul>
                    <li><strong>Dev</strong>: <code>&lt;ProjectRoot&gt;/DB/lms.sqlite</code></li>
                    <li><strong>Prod</strong>: <code>%APPDATA%/GPTK Library Manager/DB/lms.sqlite</code></li>
                </ul>
            </li>
            <li><strong>Smart Backup</strong>:
                <ul>
                    <li>The system uses a <strong>Change Detection</strong> mechanism.</li>
                    <li>If <code>backup_on_close</code> is enabled in settings, the system automatically backs up the
                        database to the cloud/local archive <strong>only if data was modified</strong> during the
                        session.</li>
                    <li>Shutdown logs can be found in the console/terminal.</li>
                </ul>
            </li>
        </ul>
        <hr>
        <h2 id="19-user-manual">19. User Manual </h2>
        <p>This section serves as a functional guide for end-users (Admins and Staff) interacting with the system.</p>
        <h3 id="171-getting-started--system-setup">17.1. Getting Started &amp; System Setup </h3>
        <blockquote>
            <p>[!IMPORTANT]<br>
                <strong>First-Time Setup Instructions</strong><br>
                Follow these steps precisely to initialize the application.
            </p>
        </blockquote>
        <h4 id="a-initial-login">A. Initial Login </h4>
        <p>When you launch the application for the first time, use the default Administrator credentials:</p>
        <ul>
            <li><strong>Email:</strong> <code>veerkotresh@gmail.com</code></li>
            <li><strong>Password:</strong> <code>123456</code></li>
        </ul>
        <h4 id="b-database-configuration-crucial">B. Database Configuration (Crucial) </h4>
        <ol>
            <li>Within the app, navigate to <strong>Settings</strong> (Gear icon on the sidebar).</li>
            <li>Go to the <strong>Data &amp; Maintenance</strong> section.</li>
            <li>Locate the <strong>Cloud Database Configuration</strong> field.</li>
            <li>Paste the Connection String provided by your IT Admin.</li>
            <li>Click <strong>Save Connection</strong> and <strong>Restart the Application</strong>.</li>
        </ol>
        <h4 id="c-data-restoration">C. Data Restoration </h4>
        <ol>
            <li>Open the application and go back to <strong>Settings &gt; Data &amp; Maintenance</strong>.</li>
            <li>Find the <strong>Backup &amp; Restore Operations</strong> section.</li>
            <li>Click the <strong>Restore from Cloud</strong> button to sync latest data.</li>
        </ol>
        <h3 id="172-module-walkthrough">17.2. Module Walkthrough </h3>
        <h4 id="1-dashboard">1. Dashboard </h4>
        <p>The landing screen provides a real-time overview of library health.</p>
        <ul>
            <li><strong>Key Metrics:</strong> Total Books, Issued Books, Active Members, Overdue Returns.</li>
            <li><strong>Live Activity:</strong> A stream of recent system actions (e.g., "Book Issued to John").</li>
            <li><strong>Graphs:</strong> Visual breakdowns of Book Categories and Circulation Trends.</li>
        </ul>
        <h4 id="2-catalog-book-management">2. Catalog (Book Management) </h4>
        <p><em>Manage the library's physical inventory.</em></p>
        <ul>
            <li><strong>Add Book:</strong>
                <ul>
                    <li>Supports manual entry or <strong>Smart Auto-Fill</strong> (enter ISBN -&gt; click Lightning
                        icon).</li>
                    <li><strong>Bulk Import:</strong> Upload <code>.csv</code> or <code>.xlsx</code> files. The system
                        detects duplicates and fuzzy-matches headers.</li>
                </ul>
            </li>
            <li><strong>Manage Copies:</strong> Track individual physical copies of a book. Supports barcodes.</li>
            <li><strong>Search &amp; Filter:</strong> Find books by Title, Author, ISBN, or Department.</li>
        </ul>
        <h4 id="3-members-student-management">3. Members (Student Management) </h4>
        <p><em>Maintain student records.</em></p>
        <ul>
            <li><strong>Add Student:</strong> Requires unique Register Number.</li>
            <li><strong>Promote/Demote:</strong> Bulk moving of students between semesters (e.g., Sem 2 -&gt; Sem 4).
            </li>
            <li><strong>Graduation:</strong> Marking final-year students as "Alumni".</li>
            <li><strong>Liability Check:</strong> You cannot delete a student if they have unreturned books or unpaid
                fines.</li>
        </ul>
        <h4 id="4-circulation-issues--returns">4. Circulation (Issues &amp; Returns) </h4>
        <p><em>The core transactional module.</em></p>
        <ul>
            <li><strong>Issue Book (F1):</strong>
                <ul>
                    <li>Select Student -&gt; Scan Book.</li>
                    <li><strong>Validation:</strong> Checks loan limits (max 5 books) and existing fines.</li>
                </ul>
            </li>
            <li><strong>Return Book (F2):</strong>
                <ul>
                    <li>Scan Book -&gt; System calculates Overdue Fines automatically.</li>
                    <li><strong>Damage Handling:</strong> Mark book as "Damaged" or "Lost" to apply extra penalties.
                    </li>
                </ul>
            </li>
            <li><strong>Renew Book (F3):</strong> Extend the due date if the book is not reserved.</li>
        </ul>
        <h4 id="5-transactions--fines">5. Transactions &amp; Fines </h4>
        <ul>
            <li><strong>Transaction History:</strong> A complete log of every issue, return, and renewal.</li>
            <li><strong>Fines:</strong>
                <ul>
                    <li>Accept partial payments (e.g., Paying 50 of a 100 fine).</li>
                    <li>Waive fines (requires reason, e.g., "Medical Emergency").</li>
                    <li>Receipts are generated for all payments.</li>
                </ul>
            </li>
        </ul>
        <h4 id="6-reports">6. Reports </h4>
        <p><em>Generate analytical data.</em></p>
        <ul>
            <li><strong>Types:</strong> Circulation Stats, Financial Reports, Most Popular Books, Top Students.</li>
            <li><strong>Export:</strong> Save reports as PDF or CSV.</li>
            <li><strong>Date Filters:</strong> View data for the Last 7 Days, This Month, or Custom Ranges.</li>
        </ul>
        <h4 id="7-broadcast-notifications">7. Broadcast (Notifications) </h4>
        <p><em>Send bulk emails to users.</em></p>
        <ul>
            <li><strong>Targets:</strong>
                <ul>
                    <li>Specific Students (Search &amp; Select).</li>
                    <li><strong>Smart Groups:</strong> "All Overdue Students", "Final Year Students".</li>
                </ul>
            </li>
            <li><strong>History:</strong> View logs of all sent emails.</li>
        </ul>
        <h4 id="8-administration-admins--staff">8. Administration (Admins &amp; Staff) </h4>
        <ul>
            <li><strong>Manage Admins:</strong> Create co-admins with full access.</li>
            <li><strong>Manage Staff:</strong> Create operational accounts with granular permissions (e.g., "Give access
                ONLY to Circulation").</li>
        </ul>
        <h3 id="173-troubleshooting--faq">17.3. Troubleshooting &amp; FAQ </h3>
        <p><strong>Q: Why can't I delete a book?</strong><br>
            A: You cannot delete a book if any copy of it is currently <strong>Issued</strong> to a student. Inspect the
            "Manage Copies" view to find the issued copy.</p>
        <p><strong>Q: Why is the "Save" button disabled on Settings?</strong><br>
            A: Critical settings (like Policy) require your Admin Password to confirm changes.</p>
        <p><strong>Q: "Network Error" when scanning a student?</strong><br>
            A: Ensure you are connected to the internet. The system fetches student photos and signatures from the
            remote server.</p>
        <p><strong>Q: Where is the installer?</strong><br>
            A: After building, the setup file is located in
            <code>Final_Fixed_Build/GPTK Library Manager Setup 1.0.0.exe</code>.
        </p>
        <hr>
        <h2 id="20-appendices">20. Appendices </h2>
        <h3 id="181-glossary">18.1. Glossary </h3>
        <ul>
            <li><strong>Accession Number</strong>: A unique barcode ID assigned to a specific physical copy of a book.
            </li>
            <li><strong>ISBN</strong>: International Standard Book Number (Identifies the "Master" book record).</li>
            <li><strong>IPC</strong>: Inter-Process Communication (Bridge between Electron Main and React Renderer).
            </li>
            <li><strong>JWT</strong>: JSON Web Token (Used for stateless authentication).</li>
        </ul>
        <h3 id="182-third-party-licenses">18.2. Third-Party Licenses </h3>
        <ul>
            <li><strong>React</strong>: MIT</li>
            <li><strong>Electron</strong>: MIT</li>
            <li><strong>SQLite3</strong>: Public Domain</li>
            <li><strong>Chart.js</strong>: MIT</li>
            <li><strong>PDFKit</strong>: MIT</li>
        </ul>

    </div>




    <script type="module">
        // TODO: If ZenUML gets integrated into mermaid in the future,
        //      we can remove the following lines.


        var MERMAID_CONFIG = ({ "startOnLoad": false });
        if (typeof MERMAID_CONFIG !== 'undefined') {
            MERMAID_CONFIG.startOnLoad = false
            MERMAID_CONFIG.cloneCssStyles = false
            MERMAID_CONFIG.theme = "default"
        }

        mermaid.initialize(MERMAID_CONFIG || {})
        if (typeof (window['Reveal']) !== 'undefined') {
            function mermaidRevealHelper(event) {
                var currentSlide = event.currentSlide
                var diagrams = currentSlide.querySelectorAll('.mermaid')
                for (var i = 0; i < diagrams.length; i++) {
                    var diagram = diagrams[i]
                    if (!diagram.hasAttribute('data-processed')) {
                        mermaid.init(null, diagram, () => {
                            Reveal.slide(event.indexh, event.indexv)
                        })
                    }
                }
            }
            Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
            Reveal.addEventListener('ready', mermaidRevealHelper)
            await mermaid.run({
                nodes: document.querySelectorAll('.mermaid')
            })
        } else {
            await mermaid.run({
                nodes: document.querySelectorAll('.mermaid')
            })
        }
    </script>




</body>

</html>