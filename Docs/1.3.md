**Figure 1.3: Use Case Overview Diagram**

```mermaid
graph TB
    Admin((Admin))
    Staff((Staff))
    
    subgraph System["GPTK LMS"]
        direction LR
        Login[Login]
        Circ[Circulation]
        Books[Book Mgmt]
        Students[Student Mgmt]
        Reports[Reports]
        Settings[Settings]
        Audit[Audit Logs]
    end
    
    Admin --> Login
    Admin --> Circ
    Admin --> Books
    Admin --> Students
    Admin --> Reports
    Admin --> Settings
    Admin --> Audit
    
    Staff --> Login
    Staff --> Circ
    Staff --> Books
    Staff --> Students
    Staff --> Reports
```

---

**Figure A.1: Electron.js Desktop Architecture Diagram**

```mermaid
graph TB
    subgraph Desktop["Electron Desktop Application"]
        subgraph Main["Main Process (Node.js)"]
            Backend[Express.js Backend]
            DB[(SQLite Database)]
            IPC_Main[IPC Handler]
            Hardware[Hardware Integration]
        end
        
        subgraph Renderer["Renderer Process (Chromium)"]
            Frontend[React.js Frontend]
            IPC_Renderer[IPC Client]
        end
        
        IPC_Renderer <-->|IPC Channel| IPC_Main
        Frontend --> IPC_Renderer
        IPC_Main --> Backend
        Backend <--> DB
        Backend --> Hardware
    end
    
    Scanner[Barcode Scanner] --> Hardware
    Printer[Thermal Printer] --> Hardware
    Cloud[(Cloud Backup)] -.->|Optional| DB
```

---

**Figure C.1: IPC Communication Diagram**

```mermaid
sequenceDiagram
    participant UI as React Frontend<br/>(Renderer Process)
    participant IPC as IPC Channel
    participant Backend as Express Backend<br/>(Main Process)
    participant DB as SQLite Database
    
    Note over UI,DB: Example: Staff Login Flow
    
    UI->>IPC: ipcRenderer.invoke('auth:login', credentials)
    IPC->>Backend: Forward login request
    Backend->>DB: Query staff table
    DB-->>Backend: Return staff record
    Backend->>Backend: Verify password (bcrypt)
    Backend->>Backend: Generate JWT token
    Backend-->>IPC: Return {token, user}
    IPC-->>UI: Resolve promise with result
    UI->>UI: Update UI with user session
```

**Key IPC Channels:**

- **Authentication:** `auth:login`, `auth:logout`, `auth:validate-token`
- **Staff Management:** `staff:create`, `staff:update`, `staff:list`
- **Student Management:** `student:create`, `student:update`, `student:search`
- **Book Management:** `book:create`, `book:update`, `book-copy:add`
- **Circulation:** `circulation:issue`, `circulation:return`, `circulation:renew`
- **Reports:** `report:generate`, `report:export`
- **Barcode:** `barcode:scan`, `barcode:validate`

---

**Simplified IPC Flow:**

```mermaid
graph LR
    UI[React UI] -->|IPC Request| Main[Main Process]
    Main -->|Query| DB[(SQLite)]
    DB -->|Data| Main
    Main -->|IPC Response| UI
```

---

**Figure F.1: Barcode Scanner Integration Diagram**

```mermaid
flowchart LR
    Scan[Scan Barcode] --> Input[Keyboard Input]
    Input --> Validate{Valid?}
    Validate -->|Yes| Populate[Auto-populate Details]
    Validate -->|No| Error[Error]
    Populate --> Done([Done])
```

**Barcode Operations:**
- **Book Issue:** Scan student ID â†’ Scan book accession number
- **Book Return:** Scan book accession number
- **Student Lookup:** Scan student register number
- **Book Search:** Scan ISBN

**Hardware:** USB barcode scanner (keyboard emulation mode, plug-and-play)

---

**Figure G.1: Thermal Printer Integration Diagram**

```mermaid
flowchart LR
    Transaction[Complete Transaction] --> Format[Format Receipt Data]
    Format --> ESC[Generate ESC/POS Commands]
    ESC --> Send[Send to Printer]
    Send --> Print[Print Receipt]
    Print --> Done([Done])
```

**Receipt Types:**
- **Issue Receipt:** Student name, book title, issue date, due date
- **Return Receipt:** Student name, book title, return date, fine amount
- **Fine Receipt:** Student name, fine amount, payment date, receipt number

**Hardware:** Thermal printer (USB/Bluetooth, ESC/POS support, 58mm/80mm)

---

**Figure H.1: Desktop Application Deployment Diagram**

```mermaid
graph TB
    Installer[Windows Installer<br/>.exe] --> Install[Install Application]
    Install --> ProgramFiles[C:\Program Files\<br/>GPTK LMS]
    Install --> AppData[C:\Users\...\AppData\<br/>Roaming\gptk-library-system]
    AppData --> DB[(library.db<br/>SQLite Database)]
    AppData --> Config[config.json]
    AppData --> Logs[logs/]
    ProgramFiles --> Electron[Electron App]
    Electron --> Main[Main Process]
    Electron --> Renderer[Renderer Process]
    Main <--> DB
```

**Deployment Components:**
- **Installer:** Windows .exe created with `electron-builder`
- **Application:** `C:\Program Files\GPTK Library Management System`
- **Database:** `AppData\Roaming\gptk-library-system\library.db`
- **Configuration:** `config.json` (settings, printer config)
- **Logs:** Audit logs and error logs

**System Requirements:** Windows 10/11, 4GB RAM, 500MB disk space

---

**Figure B.1: SQLite Database Schema Diagram**

```mermaid
erDiagram
    staff ||--o{ circulation : "issues/returns"
    staff ||--o{ audit_logs : "performs"
    students ||--o{ circulation : "borrows"
    students ||--o{ fines : "pays"
    books ||--o{ book_copies : "has"
    book_copies ||--o{ circulation : "in"
    circulation ||--o{ fines : "generates"
    
    staff {
        int id PK
        text name
        text email UK
        text role
    }
    
    students {
        int id PK
        text register_number UK
        text name
        text department
    }
    
    books {
        int id PK
        text isbn UK
        text title
        text author
    }
    
    book_copies {
        int id PK
        int book_id FK
        text accession_number UK
        text status
    }
    
    circulation {
        int id PK
        int student_id FK
        int book_copy_id FK
        text issue_date
        text due_date
        text status
    }
    
    fines {
        int id PK
        int circulation_id FK
        int student_id FK
        real amount
        text status
    }
    
    audit_logs {
        int id PK
        int staff_id FK
        text action
        text timestamp
    }
    
    config {
        int id PK
        text config_key UK
        text config_value
    }
```

**Database Tables:** 8 tables (staff, students, books, book_copies, circulation, fines, audit_logs, config)

**Key Relationships:**
- Students borrow book copies through circulation
- Staff manage all operations and are logged in audit_logs
- Fines are generated from overdue circulation records

